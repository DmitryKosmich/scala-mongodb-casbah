function nanoGALLERY(){function e(){for(var e=["transform","msTransform","webkitTransform","mozTransform","oTransform"],t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){for(var e=Math.max(window.screen.width,window.screen.height),t=0,a=0;a<Ia.length;a++)switch(Ia[a].name){case"imageScale150":case"imageScale150Outside":_a=Math.max(_a,1.5);break;case"scale120":_a=Math.max(_a,1.2)}switch(t="auto"==Ct.thumbnailHeight?Ct.thumbnailWidth*_a:"auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth?Ct.thumbnailHeight*_a:Math.max(Ct.thumbnailWidth,Ct.thumbnailHeight)*_a,Ct.kind){case"":if(w(ja.breadcrumbHome,"","","","","album","","0","-1"),Ct.itemsBaseURL.length>0&&(Ct.itemsBaseURL+="/"),void 0!==Ct.items&&null!==Ct.items)g(),d(!1)||I(0,!1);else{var i=jQuery(Lt).children("a");i.length>0?(b(i),d(!1)||I(0,!1)):yt("error: no image to process.")}break;case"getsimple":return;case"flickr":for(Ct.flickrSkipOriginal||(Ma.photoAvailableSizes.push(1e4),Ma.photoAvailableSizesStr.push("o")),n=0;n<Ma.thumbAvailableSizes.length&&(Ma.thumbSize=Ma.thumbAvailableSizesStr[n],!(t<Ma.thumbAvailableSizes[n]));n++);for(n=0;n<Ma.photoAvailableSizes.length&&(Ma.photoSize=n,!(e<=Ma.photoAvailableSizes[n]));n++);w(ja.breadcrumbHome,"","","","","album","",Ct.photoset.length>0?Ct.photoset:"0","-1"),f(0,!0,-1,!1);break;case"smugmug":for(n=0;n<za.photoAvailableSizes.length&&(za.thumbSize=n,!(t<=za.photoAvailableSizes[n]));n++);for(n=0;n<za.photoAvailableSizes.length&&(za.photoSize=n,!(e<=za.photoAvailableSizes[n]));n++);w(ja.breadcrumbHome,"","","","","album","","0","-1"),Q(0,!0,-1,!1);break;case"picasa":default:for(var n=0;n<Wa.thumbAvailableSizes.length;n++)if(Wa.thumbSize=Wa.thumbAvailableSizes[n],t<Wa.thumbAvailableSizes[n]){Wa.thumbAvailableSizesCropped.indexOf(" "+Wa.thumbAvailableSizes[n])>=0&&(Wa.thumbSizeHack=!1);break}if(Ct.album.length>0){var r=Ct.album.indexOf("&authkey=");if(r>=0){var o=Ct.album.substring(0,r),l=Ct.album.substring(r);-1==l.indexOf("Gv1sRg")&&(l="&authkey=Gv1sRg"+l.substring(9));var s=w(ja.breadcrumbHome,"","","","","album","",o,"-1");s.customVars.authkey=l}else w(ja.breadcrumbHome,"","","","","album","",Ct.album,"-1")}else w(ja.breadcrumbHome,"","","","","album","","0","-1");y(0,!0,-1,!1)}jQuery(document).keyup(function(e){if(qt)switch(e.keyCode){case 27:gt(!0);break;case 32:case 13:rt();break;case 38:case 39:case 33:ot();break;case 40:case 37:case 34:st();break;case 35:case 36:}}),jQuery(window).bind("hashchange",function(){Ct.locationHash&&d(!0)})}function a(){if("undefined"!=typeof Hammer){var e=Hammer(St[0],{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}),t=0,a=0;e.on("drag release",function(e){switch(e.type){case"drag":t=e.gesture.deltaX,a=e.gesture.deltaY,St.css(Math.abs(t)<25?{left:0}:{left:t});break;case"release":e.stopPropagation(),Math.abs(t)<25&&St.css({left:0}),-25>t&&(Z(),M()),t>25&&(Z(),z()),t=0}})}else{new r(St[0])}}function n(e,t){jQuery(e).css({left:t})}function r(e){function t(){if(null==s)return u=0,void(l=null);var e=l.x-s.x;u-=e,-50>e&&(Z(),z()),e>50&&(Z(),M()),u=0,l=null,s=null,Math.abs(e)<50&&n(r,u)}function a(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function i(){if(o){var e=l.x-s.x;n(r,u-e),o=!1}}var r=e,o=!1,l=null,s=null,u=0;this.handleGestureStart=function(e){qt||(e.preventDefault(),e.touches&&e.touches.length>1||(l=a(e),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0))))}.bind(this),this.handleGestureMove=function(e){e.preventDefault(),s=a(e),o||(o=!0,window.requestAnimFrame(i))}.bind(this),this.handleGestureEnd=function(e){e.preventDefault(),e.touches&&e.touches.length>0||(o=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),t())}.bind(this),window.navigator.msPointerEnabled?r.addEventListener("MSPointerDown",this.handleGestureStart,!0):(r.addEventListener("touchstart",this.handleGestureStart,!0),r.addEventListener("mousedown",this.handleGestureStart,!0))}function o(){switch("fancybox"==Ct.viewer&&"undefined"==typeof jQuery.fancybox&&(Ct.viewer="internal",jt("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page.")),"cbrisbois@gmail.com"==Ct.userID.toUpperCase()&&(""==Ct.blackList||"SCRAPBOOK|PROFIL"==Ct.blackList.toUpperCase())&&(Ct.blackList="profil|scrapbook|Forhomepage"),""!=Ct.blackList&&(sa=Ct.blackList.toUpperCase().split("|")),""!=Ct.whiteList&&(ua=Ct.whiteList.toUpperCase().split("|")),""!=Ct.albumList&&(da=Ct.albumList.toUpperCase().split("|")),("picasa"==Ct.kind||"flickr"==Ct.kind||"smugmug"==Ct.kind)&&(Ct.displayBreadcrumb=!0),void 0!==Ct.photoset?Ct.photoset.length>0&&(Ct.displayBreadcrumb=!1):Ct.photoset="",void 0!==Ct.album?Ct.album.length>0&&(Ct.displayBreadcrumb=!1):Ct.album="",void 0!==Ct.gallery?Ct.gallery.length>0&&(Ct.displayBreadcrumb=!1):Ct.gallery="",Ct.maxWidth>0&&(jQuery(Lt).css("maxWidth",+Ct.maxWidth),jQuery(Lt).css("margin-left","auto"),jQuery(Lt).css("margin-right","auto")),"number"==ai(Ct.slideshowDelay)&&Ct.slideshowDelay>=2e3?ma=Ct.slideshowDelay:jt('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==ai(Ct.thumbnailDisplayInterval)&&Ct.thumbnailDisplayInterval>=0?ga=Ct.thumbnailDisplayInterval:jt('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==ai(Ct.thumbnailLazyLoadTreshold)&&Ct.thumbnailLazyLoadTreshold>=0?ba=Ct.thumbnailLazyLoadTreshold:jt('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==ai(Ct.paginationMaxItemsPerPage)&&Ct.paginationMaxItemsPerPage>=0?xa=Ct.paginationMaxItemsPerPage:jt('Parameter "paginationMaxItemsPerPage" must be an integer.'),"number"==ai(Ct.paginationMaxLinesPerPage)&&Ct.paginationMaxLinesPerPage>=0?wa=Ct.paginationMaxLinesPerPage:jt('Parameter "paginationMaxLinesPerPage" must be an integer.'),xa>0&&wa>0&&(xa=0),("auto"==Ct.thumbnailHeight||"auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth)&&(Ct.paginationMaxItemsPerPage>0&&jt('Parameters "paginationMaxItemsPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),Ct.paginationMaxLinesPerPage>0&&jt('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),xa=0,wa=0),ai(Ct.thumbnailHoverEffect)){case"string":for(var e=Ct.thumbnailHoverEffect.split(","),t=0;t<e.length;t++)if(s(e[t])){var a=l();a.name=e[t],Ia.push(a)}break;case"object":if(s(Ct.thumbnailHoverEffect.name)){var a=l();Ia.push(jQuery.extend(a,Ct.thumbnailHoverEffect))}break;case"array":for(var t=0;t<Ct.thumbnailHoverEffect.length;t++)if(s(Ct.thumbnailHoverEffect[t].name)){var a=l();Ia.push(jQuery.extend(a,Ct.thumbnailHoverEffect[t]))}break;case"null":break;default:yt('incorrect parameter for "thumbnailHoverEffect".')}for(var i=!1,t=0;t<Ia.length;t++)/labelOpacity50|borderLighter|borderDarker/i.test(Ia[t].name)||(i=!0);"function"==typeof Ct.fnThumbnailHoverInit||i||(Ct.touchAnimation=!1)}function l(){var e={duration:200,durationBack:150,easing:"swing",easingBack:"swing"};return"animate"!=Ea&&(e.easing="ease",e.easingBack="ease"),e}function s(e){var t=/labelOpacity50|borderLighter|borderDarker/i.test(e),a=/slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(e),i=/imageScale150|imageScale150Outside|scale120|overScale|overScaleOutside|scaleLabelOverImage|imageFlipHorizontal|imageFlipVertical|rotateCornerBR|rotateCornerBL|imageRotateCornerBR|imageRotateCornerBL/i.test(e);return t||a||i?"onBottom"!=Ct.thumbnailLabel.position||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScale150Outside|scale120/i.test(e)?!i||"animate"!=Ea&&null!=Pa?!0:(jt('Parameter thumbnailHoverEffect="'+e+'" requires the additional jQuery plugin "Velocity" or "Transit".'),!1):(yt('The parameter combination thumbnailHoverEffect="'+e+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(yt('Unknow parameter value: thumbnailHoverEffect="'+e+'".'),!1)}function u(){ya=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===ya&&(ya="");var e=-("_"+ya).length;"object"==ai(Ct.i18n)&&Object.keys(Ct.i18n).forEach(function(t){var a=t.substr(e);a=="_"+ya?ja[t.substr(0,t.length-a.length)]=Ct.i18n[t]:ja[t]=Ct.i18n[t]})}function d(e){if(!Ct.locationHash)return!1;var t=null,a=null,i="#nanogallery/"+At+"/",n=location.hash;if(n!=La&&(""==n&&-1!=Ca&&(La="",D(0,!1,-1,!1)),0==n.indexOf(i))){var r=n.substring(i.length),o=r.indexOf("/"),l=-1,s=-1,u=Xt.length;if(o>0){t=r.substring(0,o),a=r.substring(o+1);for(var d=0;u>d;d++)if("image"==Xt[d].kind&&Xt[d].GetID()==a){s=d;break}}else t=r;for(var d=0;u>d;d++)if("album"==Xt[d].kind&&Xt[d].GetID()==t){l=d;break}return null!==a?(e||(Ta=l),""==Ct.kind?tt(s):-1==s?D(l,!1,a,e):tt(s),!0):(D(l,!1,-1,e),!0)}}function c(){Xt=[];var e=w("dummy","data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=","data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=","","","image","","1","0"),t=F(e,0,0,!1);Zt=t.outerWidth(!0)-t.width()+t.find(".imgContainer").outerWidth(!0)-t.find(".imgContainer").width(),Jt=t.outerWidth(!0)-t.width(),ta=t.find(".imgContainer").outerWidth(!0)-t.find(".imgContainer").width(),Kt=t.outerHeight(!0)-t.height()+t.find(".imgContainer").outerHeight(!0)-t.find(".imgContainer").height(),ea=t.outerHeight(!0)-t.height(),aa=t.find(".imgContainer").outerHeight(!0)-t.find(".imgContainer").height(),"auto"!=Ct.thumbnailWidth&&"autoUpScale"!=Ct.thumbnailWidth&&(ia=t.find(".imgContainer").outerWidth(!0)),"auto"!=Ct.thumbnailHeight&&(ra=t.find(".imgContainer").outerHeight(!0)),na=t.outerWidth(!0),oa=t.outerHeight(!0),la="album"==e.kind?t.find(".labelFolderTitle").outerHeight(!0):t.find(".labelImageTitle").outerHeight(!0),H(),Da.oldBorderColor=t.css("border-color"),(""==Da.oldBorderColor||null==Da.oldBorderColor||void 0==Da.oldBorderColor)&&(Da.oldBorderColor="#000"),Da.oldLabelOpacity=t.find(".labelImage").css("opacity");var a=jQuery.Color(t.find(".labelImage"),"backgroundColor");Da.oldLabelRed=a.red(),Da.oldLabelGreen=a.green(),Da.oldLabelBlue=a.blue(),Xt=[]}function h(e,t){var a="";return a=""!=ya&&void 0!==e[t+"_"+ya]&&e[t+"_"+ya].length>0?e[t+"_"+ya]:e[t]}function m(e){if("%filename"==Ct.thumbnailLabel.title)return e.split("/").pop().replace("_"," ");if("%filenameNoExt"==Ct.thumbnailLabel.title){var t=e.split("/").pop();return t.split(".").shift().replace("_"," ")}return e}function g(){var e=!1;jQuery.each(Ct.items,function(t,a){var i="";i=h(a,"title"),void 0===i&&(i="");var n="";n=void 0!==a.srct&&a.srct.length>0?Ct.itemsBaseURL+a.srct:Ct.itemsBaseURL+a.src;var r=Ct.itemsBaseURL+a.src;""!=Ct.thumbnailLabel.title&&(i=m(r));var o="";o=h(a,"description"),void 0===o&&(o="");var l="";void 0!==a.destURL&&a.destURL.length>0&&(l=a.destURL);var s=h(a,"tags");void 0===s&&(s="");var u=0;void 0!==a.albumID&&(u=a.albumID,e=!0);var d=null;void 0!==a.ID&&(d=a.ID);var c="image";void 0!==a.kind&&a.kind.length>0&&(c=a.kind);var g=w(i,n,r,o,l,c,s,d,u);"function"==typeof Ct.fnProcessData&&Ct.fnProcessData(g,"api",c,null)}),e&&(Ct.displayBreadcrumb=!0);for(var t=Xt.length,a=0,i=0,n=0;t>n;n++){a=0,i=0;for(var r=0;t>r;r++)n!=r&&Xt[n].GetID()==Xt[r].albumID&&(a++,"image"==Xt[r].kind&&(Xt[r].imageNumber=i++));Xt[n].contentLength=a}}function b(e){var t=!1;jQuery.each(e,function(e,a){var i="";void 0!==jQuery(a).attr("data-ngthumb")&&jQuery(a).attr("data-ngthumb").length>0&&(i=Ct.itemsBaseURL+jQuery(a).attr("data-ngthumb")),void 0!==jQuery(a).attr("data-ngThumb")&&jQuery(a).attr("data-ngThumb").length>0&&(i=Ct.itemsBaseURL+jQuery(a).attr("data-ngThumb")),src=Ct.itemsBaseURL+jQuery(a).attr("href");var n="";void 0!==jQuery(a).attr("data-ngdesc")&&jQuery(a).attr("data-ngdesc").length>0&&(n=jQuery(a).attr("data-ngdesc")),void 0!==jQuery(a).attr("data-ngDesc")&&jQuery(a).attr("data-ngDesc").length>0&&(n=jQuery(a).attr("data-ngDesc"));var r="";void 0!==jQuery(a).attr("data-ngdest")&&jQuery(a).attr("data-ngdest").length>0&&(r=jQuery(a).attr("data-ngdest")),void 0!==jQuery(a).attr("data-ngDest")&&jQuery(a).attr("data-ngDest").length>0&&(r=jQuery(a).attr("data-ngDest"));var o=0;void 0!==jQuery(a).attr("data-ngalbumid")&&(o=jQuery(a).attr("data-ngalbumid"),t=!0),void 0!==jQuery(a).attr("data-ngAlbumID")&&(o=jQuery(a).attr("data-ngAlbumID"),t=!0);var l=null;void 0!==jQuery(a).attr("data-ngid")&&(l=jQuery(a).attr("data-ngid")),void 0!==jQuery(a).attr("data-ngID")&&(l=jQuery(a).attr("data-ngID"));var s="image";void 0!==jQuery(a).attr("data-ngkind")&&jQuery(a).attr("data-ngkind").length>0&&(s=jQuery(a).attr("data-ngkind")),void 0!==jQuery(a).attr("data-ngKind")&&jQuery(a).attr("data-ngKind").length>0&&(s=jQuery(a).attr("data-ngKind"));var u=jQuery(a).text();""!=Ct.thumbnailLabel.title&&void 0!=Ct.thumbnailLabel.title&&(u=m(src));var d=w(u,i,src,n,r,s,"",l,o);"function"==typeof Ct.fnProcessData&&Ct.fnProcessData(d,"markup",s,null)}),jQuery.each(e,function(e,t){jQuery(t).remove()}),t&&(Ct.displayBreadcrumb=!0);for(var a=Xt.length,i=0,n=0,r=0;a>r;r++){i=0,n=0;for(var o=0;a>o;o++)r!=o&&Xt[r].GetID()==Xt[o].albumID&&(i++,"image"==Xt[o].kind&&(Xt[o].imageNumber=n++));Xt[r].contentLength=i}}function f(e,t,a,i){if(S(e),Xt[e].contentIsLoaded)return void I(e,i);var n="",r="album";0==Xt[e].GetID()?n=Ma.url()+"?&method=flickr.photosets.getList&api_key="+Ma.ApiKey+"&user_id="+Ct.userID+"&primary_photo_extras=url_"+Ma.thumbSize+"&format=json&jsoncallback=?":(n=Ma.url()+"?&method=flickr.photosets.getPhotos&api_key="+Ma.ApiKey+"&photoset_id="+Xt[e].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",r="image"),B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(n,function(n){if(T(),"album"==r?p(e,n):v(e,n),t)d(!1)||I(e,i);else if(-1!=a){for(var o=-1,l=Xt.length,s=0;l>s;s++)if("image"==Xt[s].kind&&Xt[s].GetID()==a){o=s;break}tt(o,!0)}else I(e,i)}).fail(function(e,t,a){T();var i=t+", "+a;yt("Could not retrieve Flickr photoset list (jQuery): "+i)})}function p(e,t){var a=!0;if(void 0!==t.stat&&"fail"===t.stat&&(yt("Could not retrieve Flickr photoset list: "+t.message+" (code: "+t.code+")."),a=!1),a){var i=0;"undefined"!=typeof Ct.albumSorting&&("random"==Ct.albumSorting?t.photosets.photo=It(t.photosets.photoset):"reversed"==Ct.albumSorting&&(t.photosets.photo=t.photosets.photoset.reverse())),jQuery.each(t.photosets.photoset,function(t,a){itemTitle=a.title._content,itemID=a.id,itemDescription="",void 0!=a.description._content&&(itemDescription=a.description._content);var n=a.primary_photo_extras["url_"+Ma.thumbSize],r="";if(void 0!==a.primary_photo_extras&&void 0!==a.primary_photo_extras.tags&&(r=a.primary_photo_extras.tags),P(itemTitle)){var o=w(itemTitle,n,"",itemDescription,"","album",r,itemID,Xt[e].GetID());o.thumbWidth=a.primary_photo_extras["width_"+Ma.thumbSize],o.thumbHeight=a.primary_photo_extras["height_"+Ma.thumbSize],o.contentLength=a.photos,i++}}),Xt[e].contentIsLoaded=!0,Xt[e].contentLength=i}}function v(e,t){"undefined"!=typeof Ct.photoSorting&&("random"==Ct.photoSorting?t.photoset.photo=It(t.photoset.photo):"reversed"==Ct.photoSorting&&(t.photoset.photo=t.photoset.photo.reverse()));var a=Xt[e].GetID(),i=0;jQuery.each(t.photoset.photo,function(e,t){for(var n=t.title,r=t.id,o=t.description._content,l=t["url_"+Ma.thumbSize],s=t.url_sq,e=Ma.photoSize;e>=0;e--)if(void 0!=t["url_"+Ma.photoAvailableSizesStr[e]]){s=t["url_"+Ma.photoAvailableSizesStr[e]];break}""!=Ct.thumbnailLabel.title&&(n=m(s));var u=w(n,l,s,o,"","image","",r,a);u.imageNumber=i,void 0!==t.url_o?(u.width=t.width_o,u.height=t.height_o):(u.width=t.width_z,u.height=t.height_z),u.thumbWidth=t["width_"+Ma.thumbSize],u.thumbHeight=t["height_"+Ma.thumbSize],i++}),Xt[e].contentIsLoaded=!0,Xt[e].contentLength=i}function y(e,t,a,i){if(S(e),Xt[e].contentIsLoaded)return void I(e,i);var n="",r="album";if(0==Xt[e].GetID())n=Wa.url()+"user/"+Ct.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+Wa.thumbSize;else{var o="";"undefined"!=typeof Xt[e].customVars.authkey&&(o=Xt[e].customVars.authkey),n=Wa.url()+"user/"+Ct.userID+"/albumid/"+Xt[e].GetID()+"?alt=json&kind=photo"+o+"&thumbsize="+Wa.thumbSize+"&imgmax=d",r="image"}n+="&callback=?",B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(n,function(n){if(T(),k(e,n,r),t)d(!1)||I(e,i);else if(-1!=a){for(var o=-1,l=Xt.length,s=0;l>s;s++)if("image"==Xt[s].kind&&Xt[s].GetID()==a){o=s;break}tt(o,!0)}else I(e,i)}).fail(function(e,t,a){T();var i=t+", "+a;yt("Could not retrieve Picasa/Google+ data (jQuery): "+i)})}function k(e,t,a){var i=0,n=Xt[e].GetID();"image"==a?"undefined"!=typeof Ct.photoSorting&&("random"==Ct.photoSorting?t.feed.entry=It(t.feed.entry):"reversed"==Ct.photoSorting&&(t.feed.entry=t.feed.entry.reverse())):"undefined"!=typeof Ct.albumSorting&&("random"==Ct.albumSorting?t.feed.entry=It(t.feed.entry):"reversed"==Ct.albumSorting&&(t.feed.entry=t.feed.entry.reverse())),jQuery.each(t.feed.entry,function(e,t){var r="",o=t.media$group.media$title.$t,l=t.media$group.media$thumbnail[0].url,s=t.gphoto$id.$t,u=t.media$group.media$description.$t;"image"==a&&(r=o,o=u,u="");var d=t.media$group.media$content[0].url;""!=Ct.thumbnailLabel.title&&(o=m(unescape(unescape(unescape(unescape(d))))));var c=!0;"album"==a&&(P(o)||(c=!1));var h="";if(c){if("auto"==Ct.thumbnailHeight){if(Wa.thumbSizeHack){var g=l.substring(0,l.lastIndexOf("/"));g=g.substring(0,g.lastIndexOf("/"))+"/",l=g+"w"+Ct.thumbnailWidth*_a+"/"}}else if("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth){if(Wa.thumbSizeHack){var g=l.substring(0,l.lastIndexOf("/"));g=g.substring(0,g.lastIndexOf("/"))+"/",l=g+"h"+Ct.thumbnailHeight*_a+"/"}}else if(_a>1){var g=l.substring(0,l.lastIndexOf("/"));g=g.substring(0,g.lastIndexOf("/"))+"/",l=g+"s"+Math.max(Ct.thumbnailWidth,Ct.thumbnailHeight)*_a+"/"}var b="";if("album"==a)b=s;else{b=d;var g=d.substring(0,d.lastIndexOf("/"));g=g.substring(0,g.lastIndexOf("/"))+"/",b=window.screen.width>window.screen.height?g+"w"+window.screen.width+"/"+r:g+"h"+window.screen.height+"/"+r}var f=w(o,l,b,u,"",a,h,s,n);f.imageNumber=i,"album"==a&&(f.author=t.author[0].name.$t,f.contentLength=t.gphoto$numphotos.$t),"image"==a?(f.width=t.gphoto$width.$t,f.height=t.gphoto$height.$t,f.thumbWidth=t.media$group.media$thumbnail[0].width,f.thumbHeight=t.media$group.media$thumbnail[0].height):("auto"==Ct.thumbnailHeight&&(f.thumbWidth=Wa.thumbSize),("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth)&&(f.thumbHeight=Wa.thumbSize)),"function"==typeof Ct.fnProcessData&&Ct.fnProcessData(f,"picasa",a,t),i++}}),Xt[e].contentIsLoaded=!0,Xt[e].contentLength=i}function Q(e,t,a,i){if(S(e),Xt[e].contentIsLoaded)return void I(e,i);var n="",r="album";0==Xt[e].GetID()?n=za.url()+"?method=smugmug.albums.get&NickName="+Ct.userID+"&Heavy=true&APIKey="+za.APIKey:(n=za.url()+"?method=smugmug.images.get&NickName="+Ct.userID+"&Heavy=true&AlbumID="+Xt[e].GetID()+"&APIKey="+za.APIKey,r="image"),n+="&Callback=?",B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(n,function(n){if(T(),"fail"==n.stat)console.dir(n),yt("Could not retrieve SMUGMUG data (jQuery): "+n.message);else{if(x(e,n,r),""!=Ct.gallery){Ct.displayBreadcrumb=!1;for(var o=Xt.length,l=0;o>l;l++)if(Xt[l].title.toUpperCase()==Ct.gallery.toUpperCase())return void Q(l,t,a,i);Ct.displayBreadcrumb=!0,Ct.gallery=""}if(t)d(!1)||I(e,i);else if(-1!=a){for(var s=-1,o=Xt.length,l=0;o>l;l++)if("image"==Xt[l].kind&&Xt[l].GetID()==a){s=l;break}tt(s,!0)}else I(e,i)}}).fail(function(e,t,a){T();var i=t+", "+a;yt("Could not retrieve SMUGMUG data (jQuery): "+i)})}function x(e,t,a){var i=0,n=Xt[e].GetID();"album"==a?("undefined"!=typeof Ct.albumSorting&&("random"==Ct.albumSorting?t.Albums=It(t.Albums):"reversed"==Ct.albumSorting&&(t.Albums=t.Albums.reverse())),jQuery.each(t.Albums,function(e,t){var r=t.Title,o="css/nano_gallery.png",l=t.id+"&AlbumKey="+t.Key,s=t.Description,u="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",d=!0;P(r)||(d=!1);var c="";if(d){var h=w(r,o,u,s,"",a,c,l,n);h.imageNumber=i,h.contentLength=t.ImageCount,"auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth?(h.thumbWidth=Ct.thumbnailHeight,h.thumbHeight=Ct.thumbnailHeight):"auto"==Ct.thumbnailHeight?(h.thumbWidth=Ct.thumbnailWidth,h.thumbHeight=Ct.thumbnailWidth):(h.thumbWidth=Ct.thumbnailWidth,h.thumbHeight=Ct.thumbnailHeight),"function"==typeof Ct.fnProcessData&&Ct.fnProcessData(h,"smugmug",a,t),i++}})):("undefined"!=typeof Ct.photoSorting&&("random"==Ct.photoSorting?t.Album.Images=It(t.Album.Images):"reversed"==Ct.photoSorting&&(t.Album.Images=t.Album.Images.reverse())),jQuery.each(t.Album.Images,function(t,r){var o=r.Caption;""!=Ct.thumbnailLabel.title&&(o=m(r.FileName));for(var l=r.TinyURL,t=za.thumbSize;t>=0;t--)if(void 0!=r[za.photoAvailableSizesStr[t]]){l=r[za.photoAvailableSizesStr[t]];break}0==i&&(Xt[e].thumbsrc=l);for(var s=r.Key,u="",d=r.ThumbURL,t=za.photoSize;t>=0;t--)if(void 0!=r[za.photoAvailableSizesStr[t]]){d=r[za.photoAvailableSizesStr[t]];break}var c="",h=w(o,l,d,u,"",a,c,s,n);h.imageNumber=i,"auto"==Ct.thumbnailHeight&&(h.thumbWidth=Ct.thumbnailWidth),("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth)&&(h.thumbHeight=Ct.thumbnailHeight),"function"==typeof Ct.fnProcessData&&Ct.fnProcessData(h,"smugmug",a,r),i++})),Xt[e].contentIsLoaded=!0,Xt[e].contentLength=i}function w(e,t,a,i,n,r,o,l,s){var u=new ti(e,l);return u.thumbsrc=t,u.src=a,u.description=i,u.destinationURL=n,u.kind=r,u.albumID=s,u.tags=0==o.length?null:o.split(" "),Xt.push(u),u}function I(e,t){"display"==Ct.lazyBuild?xt(St,Ct.lazyBuildTreshold)?C(e,t):(Ha=e,Ga=t):C(e,t)}function C(e,t){if(Ct.lazyBuild="none",Ha=-1,Ta=-1,qt&&gt(!1),e!=Ca){if(Ct.locationHash&&t){var a="nanogallery/"+At+"/"+Xt[e].GetID();La="#"+a,top.location.hash=a}Ca=Xt[e].GetID(),S(e);var i=0;Xt[e].paginationLastPage>0&&Xt[e].paginationLastWidth==St.width()&&(i=Xt[e].paginationLastPage),O(e,i)}}function L(e){var t="folder";0==e&&(t="folderHome");var a=jQuery('<div class="'+t+' oneFolder">'+Xt[e].title+"</div>").appendTo(Ht);jQuery(a).data("albumIdx",e),a.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),D(e,!1,-1,!0)})}function A(e){var t=jQuery('<div class="separator"></div>').appendTo(Ht);jQuery(t).data("albumIdx",e),t.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),D(e,!1,-1,!0)})}function S(e){var t=!1;if(1==Ct.displayBreadcrumb){t=!0;var a=Ht.children(),n=a.length;if(0==n?(Ct.breadcrumbAutoHideTopLevel&&(Et.css({opacity:"0","max-height":"0px"}),t=!1),L(0)):(Et.animate(1==n&&Ct.breadcrumbAutoHideTopLevel?{opacity:"0","max-height":"0px"}:{opacity:"1","max-height":"50px"}),Ht.children().not(":first").remove()),0!=e){var r=Xt.length,o=[];o.push(e);for(var l=e;0!=Xt[l].albumID;)for(i=1;r>i;i++)if(Xt[i].GetID()==Xt[l].albumID){l=i,o.push(l);break}for(A(0),i=o.length-1;i>=0;i--)i>0&&A(o[i-1]),L(o[i])}}Ct.useTags&&(t=!0,null==Gt&&(Gt=jQuery('<div class="nanoGalleryTags"></div>').appendTo(Rt))),!Pt&&t&&(Pt=!0,Et.show())}function B(){1==Ct.displayBreadcrumb&&Ht.find(".oneFolder").last().addClass("loading")}function T(){1==Ct.displayBreadcrumb&&Ht.find(".oneFolder").last().removeClass("loading")}function D(e,t,a,i){switch(Ct.kind){case"":I(e,i);break;case"flickr":f(e,t,a,i);break;case"smugmug":Q(e,t,a,i);break;case"picasa":default:y(e,t,a,i)}}function _(){if("auto"==Ct.thumbnailHeight){G(0),R(0);var e=St.width(),t=0,a=0,n=0,r=0,o=parseInt(e/na);Ct.maxItemsPerLine>0&&o>Ct.maxItemsPerLine&&(o=Ct.maxItemsPerLine);var l=[];Tt.find(".nanoGalleryThumbnailContainer").each(function(){if(jQuery(this).css("position","absolute"),a=0,0==r){var e=n*na;jQuery(this).css({top:a,left:e}),l[n]=a+jQuery(this).outerHeight(!0),0==jQuery(this).css("opacity")&&(Ct.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),n++,n>=o&&(n=0,r++)}else{var s=0,u=l[0];for(i=1;o>i;i++)l[i]<u&&(u=l[i],s=i);a=l[s];var e=s*na;jQuery(this).css({top:a,left:e}),0==jQuery(this).css("opacity")&&(Ct.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),l[s]=a+jQuery(this).outerHeight(!0)}t++});var s=l[0];for(i=1;o>i;i++)l[i]>s&&(s=l[i]);Tt.width(e).height(s)}else if("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth){G(0),R(0);var e=St.width(),u=0,d=0,c=0,h=[],m=0,g=[],b=!1;Tt.find(".nanoGalleryThumbnailContainer").each(function(){var t=jQuery(this).data("albums");if(void 0!==t&&Xt[t].thumbWidth>0){var a=Xt[t],i=Math.ceil(a.thumbWidth/a.thumbHeight*Ct.thumbnailHeight)+Jt+ta;if(b&&(b=!1,m++,u=0),"auto"!=Ct.thumbnailWidth)if(e>u+i)u+=i,g[m]=Ct.thumbnailHeight,h[m]=t;else{var n=Math.floor(Ct.thumbnailHeight*e/u);g[m]=n,m++,h[m]=t,g[m]=Ct.thumbnailHeight,u=i}else if(e>u+i)u+=i,g[m]=Ct.thumbnailHeight,h[m]=t;else{u+=i;var n=Math.floor(Ct.thumbnailHeight*e/u);g[m]=n,h[m]=t,b=!0}}}),m=0,c=0,d=0,Tt.find(".nanoGalleryThumbnailContainer").each(function(){var t=jQuery(this).data("albums");if(void 0!==t&&Xt[t].thumbWidth>0){jQuery(this).css("position","absolute");var a=Xt[t],i=Math.ceil(a.thumbWidth/a.thumbHeight*g[m]);t==h[m]&&(h.length!=m+1?i=e-d-Jt-ta:d+i+Jt+ta>e&&(i=e-d-Jt-ta)),jQuery(this).height(g[m]+aa).width(i+ta),jQuery(this).find(".imgContainer").height(g[m]).width(i),jQuery(this).find("img").height(g[m]).width(i),jQuery(this).css({top:c,left:d}),0==jQuery(this).css("opacity")&&(Ct.thumbnailDisplayTransition?"function"==typeof Ct.fnThumbnailDisplayEffect?Ct.fnThumbnailDisplayEffect(jQuery(this),a,0):jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),d+=i+Jt+ta,t==h[m]&&(c+=g[m]+Kt,m++,d=0)}}),Tt.width(e).height(c)}else if(G(0),R(0),wa>0&&na>0){var e=St.outerWidth(!0),t=parseInt(e/na);if(1>t&&(t=1),t!=Qa){H();var f=_t.data("galleryIdx");O(f,0)}}}function H(){if(wa>0){var e=St.outerWidth(!0);Qa=parseInt(e/na),1>Qa&&(Qa=1),Ct.maxItemsPerLine>0&&Qa>Ct.maxItemsPerLine&&(Qa=Ct.maxItemsPerLine)}}function G(){if(na>0){Ct.maxWidth>0&&na>Ct.maxWidth&&jQuery(Lt).css("maxWidth",na);var e=St.outerWidth(!0);if("auto"!=Ct.thumbnailWidth&&"autoUpScale"!=Ct.thumbnailWidth){var t=!1;if(Ct.maxItemsPerLine>0&&Ct.maxItemsPerLine*na<=e&&(Tt.css("maxWidth",Ct.maxItemsPerLine*na),t=!0),!t){var a=parseInt(e/na);a>0&&Tt.css("maxWidth",a*na)}}}}function R(){if(Ct.galleryToolbarWidthAligned&&void 0!==Et){var e=Tt.outerWidth(!0);Et.width(Et.width()<e?e:e)}}function E(){var e=Tt.find(".nanoGalleryThumbnailContainer").filter(function(){return Qt(this,ba)});jQuery(e).each(function(){var e=jQuery(this).find("img");if("data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="==jQuery(e).attr("src")){var t=jQuery(this).data("albums");jQuery(e).attr("src",Xt[t].thumbsrc)}})}function P(e){var t=e.toUpperCase();if(null===da){var a=!1;if(null!==ua){for(var i=0;i<ua.length;i++)-1!==t.indexOf(ua[i])&&(a=!0);if(!a)return!1}if(null!==sa)for(var i=0;i<sa.length;i++)if(-1!==t.indexOf(sa[i]))return!1;return!0}for(var i=0;i<da.length;i++)if(t==da[i].toUpperCase())return!0}function W(e,t){if(void 0!=_t){_t.children().remove(),_t.data("galleryIdx",e),_t.data("currentPageNumber",t);var a=0,i=0;if(t>0){var n=jQuery('<div class="paginationPrev">'+ja.paginationPrevious+"</div>").appendTo(_t);i+=jQuery(n).outerWidth(!0),n.click(function(){z()})}var r=0;if(0!=xa&&(a=Math.ceil(Xt[e].contentLength/xa)),wa>0&&(a=Math.ceil(Xt[e].contentLength/(wa*Qa))),t>=5?(r=t-5,a>t+6&&(a=t+6)):a>10&&(a=10),1!=a){for(var o=r;a>o;o++){var l="";o==t&&(l=" currentPage");var s=jQuery('<div class="paginationItem'+l+'">'+(o+1)+"</div>").appendTo(_t);jQuery(s).data("pageNumber",o),i+=jQuery(s).outerWidth(!0),s.click(function(){var e=_t.data("galleryIdx"),t=jQuery(this).data("pageNumber");O(e,t)})}if(a>t+1){var u=jQuery('<div class="paginationNext">'+ja.paginationNext+"</div>").appendTo(_t);i+=jQuery(u).outerWidth(!0),u.click(function(){M()})}_t.width(i)}}}function M(){var e=_t.data("galleryIdx"),t=0;0!=xa&&(t=Xt[e].contentLength/xa),wa>0&&(t=Xt[e].contentLength/(wa*Qa)),n2=Math.ceil(t);var a=_t.data("currentPageNumber");n2-1>a?a++:a=0,O(e,a)}function z(){var e=_t.data("galleryIdx"),t=0;0!=xa&&(t=Xt[e].contentLength/xa),wa>0&&(t=Xt[e].contentLength/(wa*Qa)),n2=Math.ceil(t);var a=_t.data("currentPageNumber");a>0?a--:a=n2-1,O(e,a)}function O(e,t){var a=Tt.parent();a.animate({opacity:0},100).promise().done(function(){Ft=!1,Tt.off().empty();for(var a=Xt.length,i=0;a>i;i++)Xt[i].hovered=!1;St.css({left:0,opacity:"1"}),U(e,t,q)})}function U(e,t,a){if(-1!=e){Xt[e].paginationLastPage=t,Xt[e].paginationLastWidth=St.width();var i=Xt.length,n=!1,r=0,o=0,l=0,s=0;xa>0&&(l=t*xa,s=l+xa),wa>0&&(l=t*wa*Qa,s=l+wa*Qa),1==Ct.displayBreadcrumb&&Ht.find(".oneFolder").last().removeClass("loading");var u="1";Ct.thumbnailDisplayTransition&&(u="0");var d=!1,c=!1,h=0;!function(){for(var m=0;100>m;m++){if(h>=i)return void a(e,t);var g=Xt[h];if(g.albumID==Xt[e].GetID()){if(o++,xa>0&&o>s)return void a(e,t);if(wa>0&&r+1>wa*Qa)return void a(e,t);if(o>l){r++;var b=F(g,h,u,n);Y(b,g),$(b,g);var f="auto"==Ct.thumbnailHeight&&0==Xt[h].thumbHeight||("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth)&&0==Xt[h].thumbWidth,p=b.detach();f?p.css("opacity",0):p.css("opacity",u),p.appendTo(Tt),("auto"==Ct.thumbnailHeight&&g.thumbHeight>0||("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth)&&g.thumbWidth>0)&&_(),p.removeClass("nanogalleryHideElement"),f||Ct.thumbnailDisplayTransition&&(ga>0?"function"==typeof Ct.fnThumbnailDisplayEffect?Ct.fnThumbnailDisplayEffect(p,g,r):p.delay(r*ga).fadeTo(150,1):"function"==typeof Ct.fnThumbnailDisplayEffect?Ct.fnThumbnailDisplayEffect(p,g,0):p.fadeTo(150,1)),Ct.thumbnailLazyLoad&&(d||(Qt(b,ba)?(b.find("img").attr("src",g.thumbsrc),c=!0):c&&(d=!0))),K(b)}}h++}i>h?(R(t),setTimeout(arguments.callee,0)):a(e,t)}()}}function q(e,t){Tt.on("mouseenter",".nanoGalleryThumbnailContainer",function(){J(this)}).on("mouseleave",".nanoGalleryThumbnailContainer",function(){et(this)}).on("touchstart",".nanoGalleryThumbnailContainer",function(e){e.preventDefault(),X(this)}).on("click",".nanoGalleryThumbnailContainer",function(){jQuery(this);X(this)}),G(t),R(t),W(e,t),Ft=!0}function F(e,t,a,i){var n=[],r=0;n[r++]='<div class="nanoGalleryThumbnailContainer nanogalleryHideElement" style="display:inline-block,opacity:'+a+'" ><div class="subcontainer" style="display: inline-block">';var o="";o=Ct.thumbnailLazyLoad?"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=":e.thumbsrc;var l=!1;"auto"==Ct.thumbnailHeight?(n[r++]='<div class="imgContainer" style="width:'+Ct.thumbnailWidth+'px;"><img class="image" src='+o+' alt=" " style="width:'+Ct.thumbnailWidth+'px;"></div>',0==Xt[t].thumbHeight&&(l=!0)):"auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth?(n[r++]='<div class="imgContainer" style="height:'+Ct.thumbnailHeight+'px;"><img class="image" src='+o+' alt=" " style="height:'+Ct.thumbnailHeight+'px;" ></div>',0==Xt[t].thumbWidth&&(l=!0)):n[r++]='<div class="imgContainer" style="width:'+Ct.thumbnailWidth+"px;height:"+Ct.thumbnailHeight+'px;"><img class="image" src='+o+' alt=" " style="max-width:'+Ct.thumbnailWidth+"px;max-height:"+Ct.thumbnailHeight+'px;" ></div>';
    var s=N(e),u=V(e);if("album"==e.kind){if(1==Ct.thumbnailLabel.display){if(e.contentLength>0)switch(Ct.thumbnailLabel.itemsCount){case"title":s+=" "+ja.thumbnailLabelItemsCountPart1+e.contentLength+ja.thumbnailLabelItemsCountPart2;break;case"description":u+=" "+ja.thumbnailLabelItemsCountPart1+e.contentLength+ja.thumbnailLabelItemsCountPart2}n[r++]='<div class="labelImage" style="width:'+Ct.thumbnailWidth+'px;"><div class="labelFolderTitle labelTitle" >'+s+'</div><div class="labelDescription" >'+u+"</div></div>"}}else 1==Ct.thumbnailLabel.display&&(i&&0==u.length&&"onBottom"==Ct.thumbnailLabel.position&&(u="&nbsp;"),n[r++]='<div class="labelImage" style="width:'+Ct.thumbnailWidth+'px;"><div class="labelImageTitle labelTitle" >'+s+'</div><div class="labelDescription" >'+u+"</div></div>");n[r++]="</div></div>";var d=jQuery(n.join("")).appendTo(Dt);return e.$elt=d,d.data("albums",t),d.find("img").data("albums",t),l&&d.ngimagesLoaded().always(function(e){var t=Xt[jQuery(e.images[0].img).data("albums")];if(void 0!=t&&"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="!=jQuery(e.images[0].img).attr("src")){var a=!1;if(t.thumbHeight!=e.images[0].img.naturalHeight){t.thumbHeight=e.images[0].img.naturalHeight;var i=e.images[0].img.naturalHeight/e.images[0].img.naturalWidth,n=Ct.thumbnailWidth*i;t.$elt.find(".imgContainer").height(n),t.thumbRealHeight=n+Kt,t.$elt.height(t.thumbRealHeight),a=!0}if(t.thumbWidth!=e.images[0].img.naturalWidth){t.thumbWidth=e.images[0].img.naturalWidth;var i=e.images[0].img.naturalWidth/e.images[0].img.naturalHeight,r=Ct.thumbnailHeight*i;t.$elt.find(".imgContainer").width(r),t.thumbRealWidth=r+Zt,t.$elt.width(t.thumbRealWidth),a=!0}a&&($(t.$elt,t),_())}}),d}function N(e){var t=e.title;return 1==Ct.thumbnailLabel.display&&((void 0===t||0==t.length)&&(t="&nbsp;"),""!=ja.thumbnailImageTitle&&(t=ja.thumbnailImageTitle),Ct.thumbnailLabel.titleMaxLength>3&&t.length>Ct.thumbnailLabel.titleMaxLength&&(t=t.substring(0,Ct.thumbnailLabel.titleMaxLength)+"...")),t}function V(e){var t="";return 1==Ct.thumbnailLabel.displayDescription&&(t="album"==e.kind?""!=ja.thumbnailImageDescription?ja.thumbnailAlbumDescription:e.description:""!=ja.thumbnailImageDescription?ja.thumbnailImageDescription:e.description,Ct.thumbnailLabel.descriptionMaxLength>3&&t.length>Ct.thumbnailLabel.descriptionMaxLength&&(t=t.substring(0,Ct.thumbnailLabel.descriptionMaxLength)+"...")),t}function $(e,t){if("auto"==Ct.thumbnailHeight){if(t.thumbHeight>0){var a=t.thumbHeight/t.thumbWidth;e.find(".imgContainer").height(Ct.thumbnailWidth*a),t.thumbRealHeight=Ct.thumbnailWidth*a,"onBottom"==Ct.thumbnailLabel.position?(e.height(t.thumbRealHeight+e.find(".labelImage").outerHeight(!0)+aa),e.width(Ct.thumbnailWidth+e.find(".imgContainer").outerHeight(!0)-e.find(".imgContainer").height())):e.height(t.thumbRealHeight+aa).width(Ct.thumbnailWidth+e.find(".imgContainer").outerHeight(!0)-e.find(".imgContainer").height())}t.thumbRealWidth=ia}else if("auto"==Ct.thumbnailWidth||"autoUpScale"==Ct.thumbnailWidth){if(t.thumbWidth>0){var a=t.thumbHeight/t.thumbWidth;e.find(".imgContainer").width(Ct.thumbnailHeight*a),t.thumbRealWidth=Ct.thumbnailHeight*a+Zt,e.width(t.thumbRealWidth).height(Ct.thumbnailHeight+e.find(".imgContainer").outerWidth(!0)-e.find(".imgContainer").width())}t.thumbRealHeight=ra}else e.width(ia).height("onBottom"==Ct.thumbnailLabel.position?ra+e.find(".labelImage").outerHeight(!0)+Kt:ra),t.thumbRealHeight=ra,t.thumbRealWidth=ia}function Y(e,t){if("function"==typeof Ct.fnThumbnailInit)return void Ct.fnThumbnailInit(e,t);switch(Ct.thumbnailLabel.position){case"onBottom":e.find(".labelImage").css({top:"0",position:"relative",width:"100%"}),e.find(".labelImageTitle").css("white-space","nowrap"),e.find(".labelFolderTitle").css("white-space","nowrap"),e.find(".labelDescription").css("white-space","nowrap");break;case"overImageOnTop":e.find(".labelImage").css({top:"0"});break;case"overImageOnMiddle":e.find(".labelImage").css({top:"0",height:"100%",width:"100%"}),e.find(".labelFolderTitle").css({width:"100%",position:"absolute",bottom:"50%"}),e.find(".labelImageTitle").css({width:"100%",position:"absolute",bottom:"50%"}),e.find(".labelDescription").css({width:"100%",position:"absolute",top:"50%"});break;case"overImageOnBottom":default:Ct.thumbnailLabel.position="overImageOnBottom",e.find(".labelImage").css({bottom:"0",width:"100%"})}}function X(e){var t=jQuery(e).data("albums");if(0==Ct.touchAnimation||Xt[t].hovered===!0){if(void 0!==Xt[t].destinationURL&&Xt[t].destinationURL.length>0)return void(window.location=Xt[t].destinationURL);"album"==Xt[t].kind?D(t,!1,-1,!0):tt(t,!1)}else Z(),J(e)}function Z(){for(var e=Xt.length,t=0;e>t;t++)Xt[t].hovered===!0&&et(Xt[t].$elt)}function K(e){var t=jQuery(e).data("albums");if(void 0!=t){var a=Xt[t];for("function"==typeof Ct.fnThumbnailHoverInit&&Ct.fnThumbnailHoverInit(e,a),j=0;j<Ia.length;j++)switch(Ia[j].name){case"imageSplit4":e.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),e.find(".labelImage").css({left:"auto"});var i=e.width(),n=e.height();e.find(".subcontainer").prepend(e.find(".imgContainer").clone()),e.find(".subcontainer").prepend(e.find(".imgContainer").clone());var r="rect(0px, "+i/2+"px, "+n/2+"px, 0px)";e.find(".imgContainer").eq(0).css({right:"0%",top:"0%",clip:r,position:"absolute"}),r="rect(0px, "+i+"px, "+n/2+"px, "+i/2+"px)",e.find(".imgContainer").eq(1).css({left:"0%",top:"0%",clip:r,position:"absolute"}),r="rect("+n/2+"px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".imgContainer").eq(2).css({left:"0%",bottom:"0%",clip:r,position:"absolute"}),r="rect("+n/2+"px, "+i/2+"px, "+n+"px, 0px)",e.find(".imgContainer").eq(3).css({right:"0%",bottom:"0%",clip:r,position:"absolute"}),wt("",jQuery(e).find(".imgContainer"));break;case"imageSplitVert":e.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),e.find(".labelImage").css({left:"auto"});var i=e.width(),n=e.height();e.find(".subcontainer").prepend(e.find(".imgContainer").clone());var r="rect(0px, "+i/2+"px, "+n+"px, 0px)";e.find(".imgContainer").eq(0).css({right:"0%",clip:r,position:"absolute"}),r="rect(0px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".imgContainer").eq(1).css({left:"0%",clip:r,position:"absolute"}),wt("",jQuery(e).find(".imgContainer"));break;case"labelSplit4":if("onBottom"!=Ct.thumbnailLabel.position){e.find(".subcontainer").css({overflow:"hidden",position:"relative"}),e.find(".labelImage").css({left:"auto"});var i=e.width(),n=e.height();e.find(".labelImage").clone().appendTo(e.find(".subcontainer")),e.find(".labelImage").clone().appendTo(e.find(".subcontainer"));var r="rect(0px, "+i/2+"px, "+n/2+"px, 0px)";e.find(".labelImage").eq(0).css({right:"0%",top:"0%",clip:r}),r="rect(0px, "+i+"px, "+n/2+"px, "+i/2+"px)",e.find(".labelImage").eq(1).css({left:"0%",top:"0%",clip:r}),r="rect("+n/2+"px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".labelImage").eq(2).css({left:"0%",top:"0%",clip:r}),r="rect("+n/2+"px, "+i/2+"px, "+n+"px, 0px)",e.find(".labelImage").eq(3).css({right:"0%",top:"0%",clip:r})}break;case"labelSplitVert":e.find(".subcontainer").css({overflow:"hidden",position:"relative"}),e.find(".labelImage").css({left:"auto"});var i=e.width(),n=e.height();e.find(".labelImage").clone().appendTo(e.find(".subcontainer"));var r="rect(0px, "+i/2+"px, "+n+"px, 0px)";e.find(".labelImage").eq(0).css({right:"0%",clip:r}),r="rect(0px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".labelImage").eq(1).css({left:"0%",clip:r});break;case"labelAppearSplit4":e.find(".subcontainer").css({overflow:"hidden",position:"relative"}),e.find(".labelImage").css({left:"auto"}),e.find(".labelImage").clone().appendTo(e.find(".subcontainer")),e.find(".labelImage").clone().appendTo(e.find(".subcontainer"));var i=e.find(".subcontainer").width(),n=e.find(".subcontainer").height(),r="rect(0px, "+i/2+"px, "+n/2+"px, 0px)";e.find(".labelImage").eq(0).css({right:"50%",top:"-50%",clip:r}),r="rect(0px, "+i+"px, "+n/2+"px, "+i/2+"px)",e.find(".labelImage").eq(1).css({left:"50%",top:"-50%",clip:r}),r="rect("+n/2+"px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".labelImage").eq(2).css({left:"50%",top:"50%",clip:r}),r="rect("+n/2+"px, "+i/2+"px, "+n+"px, 0px)",e.find(".labelImage").eq(3).css({right:"50%",top:"50%",clip:r});break;case"labelAppearSplitVert":e.find(".subcontainer").css({overflow:"hidden",position:"relative"}),e.find(".labelImage").css({left:"auto"}),e.find(".labelImage").clone().appendTo(e.find(".subcontainer"));var i=e.find(".subcontainer").width(),n=e.find(".subcontainer").height(),r="rect(0px, "+i/2+"px, "+n+"px, 0px)";e.find(".labelImage").eq(0).css({right:"50%",clip:r}),r="rect(0px, "+i+"px, "+n+"px, "+i/2+"px)",e.find(".labelImage").eq(1).css({left:"50%",clip:r});break;case"imageScale150Outside":jQuery(Lt).css("overflow","visible"),Tt.css("overflow","visible"),jQuery(e).css("overflow","visible"),jQuery(e).find(".subcontainer").css("overflow","visible"),wt(jQuery(e).find(".imgContainer"),jQuery(e).find(".labelImage"));break;case"scale120":jQuery(Lt).css("overflow","visible"),Tt.css("overflow","visible");break;case"scaleLabelOverImage":wt(jQuery(e).find(".imgContainer"),jQuery(e).find(".labelImage")),jQuery(e).find(".labelImage").css({opacity:"0",scale:.5}),jQuery(e).find(".imgContainer").css({scale:"1"});break;case"overScale":jQuery(e).css("overflow","hidden"),wt("",jQuery(e).find(".labelImage")),jQuery(e).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(e).find(".imgContainer").css({opacity:"1",scale:"1"});break;case"overScaleOutside":jQuery(Lt).css("overflow","visible"),Tt.css("overflow","visible"),jQuery(e).css("overflow","visible"),wt("",jQuery(e).find(".labelImage")),jQuery(e).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(e).find(".imgContainer").css({opacity:"1",scale:"1"});break;case"rotateCornerBL":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css("opacity","1");var o=jQuery(e).find(".labelImage")[0];o.style[Pa+"Origin"]="100% 100%",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(-90deg)",o=jQuery(e).find(".imgContainer")[0],o.style[Pa+"Origin"]="100% 100%",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(0deg)";break;case"rotateCornerBR":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css("opacity","1");var o=jQuery(e).find(".labelImage")[0];o.style[Pa+"Origin"]="0% 100%",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(90deg)",o=jQuery(e).find(".imgContainer")[0],o.style[Pa+"Origin"]="0 100%",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(0deg)";break;case"imageRotateCornerBL":wt(e,jQuery(e).find(".imgContainer")),jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css("opacity","1");var o=jQuery(e).find(".imgContainer")[0];o.style[Pa+"Origin"]="bottom right",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(0)";break;case"imageRotateCornerBR":wt(e,jQuery(e).find(".imgContainer")),jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css("opacity","1");var o=jQuery(e).find(".imgContainer")[0];o.style[Pa+"Origin"]="0 100%",o.style[Pa]=("velocity"==Ea?"rotateZ":"rotate")+"(0)";break;case"slideUp":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({opacity:"1",top:a.thumbRealHeight}),jQuery(e).find(".imgContainer").css({left:"0",top:"0"});break;case"slideDown":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({opacity:"1",top:-a.thumbRealHeight,background:"none"}),jQuery(e).find(".imgContainer").css({left:"0",top:"0"});break;case"slideRight":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({opacity:"1",left:-a.thumbRealWidth}),jQuery(e).find(".imgContainer").css({left:"0",top:"0"});break;case"slideLeft":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({opacity:"1",left:a.thumbRealWidth}),jQuery(e).find(".imgContainer").css({left:"0",top:"0"});break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":wt(e,jQuery(e).find(".imgContainer")),jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css("opacity","1"),jQuery(e).find(".imgContainer").css({left:"0",top:"0"});break;case"labelAppear":case"labelAppear75":var l="rgb("+Da.oldLabelRed+","+Da.oldLabelGreen+","+Da.oldLabelBlue+",0)";jQuery(e).find(".labelImage").css("backgroundColor",l),jQuery(e).find(".labelImageTitle").css("opacity","0"),jQuery(e).find(".labelFolderTitle").css("opacity","0"),jQuery(e).find(".labelDescription").css("opacity","0");break;case"labelSlideUpTop":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({top:a.thumbRealHeight,bottom:"none",height:"100%"});break;case"labelSlideUp":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({bottom:-a.thumbRealHeight,top:"none"});break;case"labelSlideDown":jQuery(e).css("overflow","hidden"),jQuery(e).find(".labelImage").css({top:-a.thumbRealHeight,bottom:""});break;case"descriptionSlideUp":jQuery(e).css("overflow","hidden");var s=a.thumbRealHeight-(jQuery(e).find(".labelImage").outerHeight(!0)-jQuery(e).find(".labelImage").height())/2-la+"px";jQuery(e).find(".labelImage").css({top:s,bottom:null});break;case"imageFlipHorizontal":var t=Math.round(1.2*a.thumbRealHeight)+"px";jQuery(e).find(".imgContainer").css({perspective:t,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(e).find(".labelImage").css({perspective:t,rotateX:"180deg","backface-visibility":"hidden",height:a.thumbRealHeight,opacity:"1"});break;case"imageFlipVertical":var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e).find(".imgContainer").css({perspective:t,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(e).find(".labelImage").css({perspective:t,rotateY:"180deg","backface-visibility":"hidden",height:a.thumbRealHeight,opacity:"1"});break;case"flipHorizontal":var t=Math.round(1.2*a.thumbRealHeight)+"px";jQuery(e).find(".labelImage").css({perspective:t,rotateX:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});break;case"flipVertical":var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e).find(".subcontainer").css({perspective:t,rotateY:"0deg"}),jQuery(e).find(".labelImage").css({perspective:t,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});break;case"imageScale150":jQuery(e).css("overflow","hidden")}}}function J(e){"velocity"==Ea?jQuery(e).velocity("stop",!0):jQuery(e).find("*").stop(!0,!1);var t=jQuery(e).data("albums");if(void 0!=t){var a=Xt[t];a.hovered=!0,"function"==typeof Ct.fnThumbnailHover&&Ct.fnThumbnailHover(jQuery(e),a);try{for(j=0;j<Ia.length;j++)switch(Ia[j].name){case"imageSplit4":jQuery(e).find(".imgContainer").eq(0)[Ea]({right:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer").eq(1)[Ea]({left:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer").eq(2)[Ea]({left:"50%",bottom:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer").eq(3)[Ea]({right:"50%",bottom:"-50%"},Ia[j].duration,Ia[j].easing);break;case"imageSplitVert":jQuery(e).find(".imgContainer").eq(0)[Ea]({right:"50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer").eq(1)[Ea]({left:"50%"},Ia[j].duration,Ia[j].easing);break;case"labelSplit4":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(2)[Ea]({left:"50%",top:"50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(3)[Ea]({right:"50%",top:"50%"},Ia[j].duration,Ia[j].easing);break;case"labelSplitVert":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"50%"},Ia[j].duration,Ia[j].easing);break;case"labelAppearSplit4":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(2)[Ea]({left:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(3)[Ea]({right:"0%",top:"0%"},Ia[j].duration,Ia[j].easing);break;case"labelAppearSplitVert":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"0%"},Ia[j].duration,Ia[j].easing);break;case"scaleLabelOverImage":jQuery(e).find(".labelImage")[Ea]({opacity:"1",scale:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer")[Ea]({scale:"0.5"},Ia[j].duration,Ia[j].easing);break;case"overScale":case"overScaleOutside":jQuery(e).find(".labelImage")[Ea]({opacity:"1",scale:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".imgContainer")[Ea]({opacity:"0",scale:"0.5"},Ia[j].duration,Ia[j].easing);break;case"imageInvisible":jQuery(e).find(".imgContainer")[Ea]({opacity:"0"},Ia[j].duration,Ia[j].easing);break;case"rotateCornerBL":var i="transition"==Ea?{rotate:"0deg"}:{rotateZ:"0deg"};jQuery(e).find(".labelImage")[Ea](i,Ia[j].duration,Ia[j].easing),i="transition"==Ea?{rotate:"90deg"}:{rotateZ:"90deg"},jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"rotateCornerBR":var i="transition"==Ea?{rotate:"0deg"}:{rotateZ:"0deg"};jQuery(e).find(".labelImage")[Ea](i,Ia[j].duration,Ia[j].easing),i="transition"==Ea?{rotate:"-90deg"}:{rotateZ:"-90deg"},jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"imageRotateCornerBL":var i="transition"==Ea?{rotate:"90deg"}:{rotateZ:"90deg"};jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"imageRotateCornerBR":var i="transition"==Ea?{rotate:"-90deg"}:{rotateZ:"-90deg"};jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"slideUp":var t="-"+a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:t},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({top:0},Ia[j].duration,Ia[j].easing);break;case"slideDown":var t=a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:t},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({top:0},Ia[j].duration,Ia[j].easing);break;case"slideRight":var t=a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:t},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({left:0},Ia[j].duration,Ia[j].easing);break;case"slideLeft":var t="-"+a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:t},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({left:0},Ia[j].duration,Ia[j].easing);break;case"imageSlideUp":var t="-"+a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:t},Ia[j].duration,Ia[j].easing);break;case"imageSlideDown":var t=a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:t},Ia[j].duration,Ia[j].easing);break;case"imageSlideLeft":var t="-"+a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:t},Ia[j].duration,Ia[j].easing);break;case"imageSlideRight":var t=a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:t},Ia[j].duration,Ia[j].easing);break;case"labelAppear":if("velocity"==Ea)jQuery(e)[Ea]({backgroundColorRed:Da.oldLabelRed,backgroundColorGreen:Da.oldLabelGreen,backgroundColorBlue:Da.oldLabelBlue,backgroundColorAlpha:1},Ia[j].durationBack,Ia[j].easingBack);else{var n="rgba("+Da.oldLabelRed+","+Da.oldLabelGreen+","+Da.oldLabelBlue+",1)";jQuery(e).find(".labelImage")[Ea]({backgroundColor:n},Ia[j].duration,Ia[j].easing)}jQuery(e).find(".labelImageTitle")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelFolderTitle")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelDescription")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing);break;case"labelAppear75":if("velocity"==Ea)jQuery(e).find(".labelImage")[Ea]({backgroundColorRed:Da.oldLabelRed,backgroundColorGreen:Da.oldLabelGreen,backgroundColorBlue:Da.oldLabelBlue,backgroundColorAlpha:.75},Ia[j].durationBack,Ia[j].easingBack);else{var n="rgba("+Da.oldLabelRed+","+Da.oldLabelGreen+","+Da.oldLabelBlue+",0.75)";jQuery(e).find(".labelImage")[Ea]({backgroundColor:n},Ia[j].durationBack,Ia[j].easingBack)}jQuery(e).find(".labelImageTitle")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelFolderTitle")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelDescription")[Ea]({opacity:"1"},Ia[j].duration,Ia[j].easing);break;case"labelSlideDown":jQuery(e).find(".labelImage")[Ea]({top:0},Ia[j].duration,Ia[j].easing);break;case"labelSlideUpTop":jQuery(e).find(".labelImage")[Ea]({top:0},Ia[j].duration,Ia[j].easing);break;case"labelSlideUp":jQuery(e).find(".labelImage")[Ea]({bottom:0},Ia[j].duration,Ia[j].easing);break;case"descriptionSlideUp":jQuery(e).find(".labelImage")[Ea]({top:0},Ia[j].duration,Ia[j].easing);break;case"labelOpacity50":jQuery(e).find(".labelImage")[Ea]({opacity:.5},Ia[j].duration,Ia[j].easing);break;case"imageOpacity50":jQuery(e).find(".imgContainer")[Ea]({opacity:.5},Ia[j].duration,Ia[j].easing);break;case"borderLighter":if("velocity"==Ea){var r=ni(Da.oldBorderColor,.5),o=r.substring(r.indexOf("(")+1,r.lastIndexOf(")")).split(/,\s*/);jQuery(e)[Ea]({borderColorRed:o[0],borderColorGreen:o[1],borderColorBlue:o[2],colorAlpha:o[3]},Ia[j].duration,Ia[j].easing)}else jQuery(e)[Ea]({borderColor:ni(Da.oldBorderColor,.5)},Ia[j].duration,Ia[j].easing);break;case"borderDarker":if("velocity"==Ea){var r=ri(Da.oldBorderColor,.5),o=r.substring(r.indexOf("(")+1,r.lastIndexOf(")")).split(/,\s*/);jQuery(e)[Ea]({borderColorRed:o[0],borderColorGreen:o[1],borderColorBlue:o[2],colorAlpha:o[3]},Ia[j].duration,Ia[j].easing)}else jQuery(e)[Ea]({borderColor:ri(Da.oldBorderColor,.5)},Ia[j].duration,Ia[j].easing);break;case"imageScale150":jQuery(e).find("img")[Ea]({scale:1.5},Ia[j].duration,Ia[j].easing);break;case"imageScale150Outside":wt("",e),jQuery(e).find("img")[Ea]({scale:1.5},Ia[j].duration,Ia[j].easing);break;case"scale120":wt("",e),jQuery(e)[Ea]({scale:1.2},Ia[j].duration,Ia[j].easing);break;case"imageFlipHorizontal":wt("",e);var t=Math.round(1.2*a.thumbRealHeight)+"px";jQuery(e).find(".imgContainer")[Ea]({perspective:t,rotateX:"180deg"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({perspective:t,rotateX:"360deg"},Ia[j].duration,Ia[j].easing);break;case"imageFlipVertical":wt("",e);var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e).find(".imgContainer")[Ea]({perspective:t,rotateY:"180deg"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({perspective:t,rotateY:"360deg"},Ia[j].duration,Ia[j].easing);break;case"flipHorizontal":wt("",e);var t=Math.round(1.2*a.thumbRealHeight)+"px";jQuery(e)[Ea]({perspective:t,rotateX:"180deg"},Ia[j].duration,Ia[j].easing);break;case"flipVertical":wt("",e);var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e)[Ea]({perspective:t,rotateY:"180deg"},Ia[j].duration,Ia[j].easing);break;case"TEST":jQuery(e).find(".subcontainer")[Ea]({scale:.8},150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(l){yt("error on hover "+l.message)}}}function et(e){if(!qt){"velocity"==Ea?jQuery(e).velocity("stop",!0):jQuery(e).find("*").stop(!0,!1);var t=jQuery(e).data("albums");if(void 0!=t){var a=Xt[t];a.hovered=!1,"function"==typeof Ct.fnThumbnailHoverOut&&Ct.fnThumbnailHoverOut(jQuery(e),a);try{for(j=0;j<Ia.length;j++)switch(Ia[j].name){case"imageSplit4":jQuery(e).find(".imgContainer").eq(0)[Ea]({right:"0%",top:"0%"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer").eq(1)[Ea]({left:"0%",top:"0%"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer").eq(2)[Ea]({left:"0%",bottom:"0%"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer").eq(3)[Ea]({right:"0%",bottom:"0%"},Ia[j].durationBack,Ia[j].easingBack);break;case"imageSplitVert":jQuery(e).find(".imgContainer").eq(0)[Ea]({right:"0%"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer").eq(1)[Ea]({left:"0%"},Ia[j].durationBack,Ia[j].easingBack);break;case"labelSplit4":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(2)[Ea]({left:"0%",top:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(3)[Ea]({right:"0%",top:"0%"},Ia[j].duration,Ia[j].easing);break;case"labelSplitVert":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"0%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"0%"},Ia[j].duration,Ia[j].easing);break;case"labelAppearSplit4":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"50%",top:"-50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(2)[Ea]({left:"50%",top:"50%"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage").eq(3)[Ea]({right:"50%",top:"50%"},Ia[j].duration,Ia[j].easing);break;case"labelAppearSplitVert":jQuery(e).find(".labelImage").eq(0)[Ea]({right:"50%"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".labelImage").eq(1)[Ea]({left:"50%"},Ia[j].durationBack,Ia[j].easingBack);break;case"scaleLabelOverImage":jQuery(e).find(".labelImage")[Ea]({opacity:"0",scale:"0.5"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer")[Ea]({scale:"1"},Ia[j].durationBack,Ia[j].easingBack);break;case"overScale":case"overScaleOutside":jQuery(e).find(".labelImage")[Ea]({opacity:"0",scale:"1.5"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer")[Ea]({opacity:"1",scale:"1"},Ia[j].durationBack,Ia[j].easingBack);break;case"imageInvisible":jQuery(e).find(".imgContainer")[Ea]({opacity:"1"},Ia[j].durationBack,Ia[j].easingBack);break;case"rotateCornerBL":var i="transition"==Ea?{rotate:"-90deg"}:{rotateZ:"-90deg"};jQuery(e).find(".labelImage")[Ea](i,Ia[j].duration,Ia[j].easing),i="transition"==Ea?{rotate:"0deg"}:{rotateZ:"0deg"},jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"rotateCornerBR":var i="transition"==Ea?{rotate:"90deg"}:{rotateZ:"90deg"};jQuery(e).find(".labelImage")[Ea](i,Ia[j].duration,Ia[j].easing),i="transition"==Ea?{rotate:"0deg"}:{rotateZ:"0deg"},jQuery(e).find(".imgContainer")[Ea](i,Ia[j].duration,Ia[j].easing);break;case"imageRotateCornerBL":case"imageRotateCornerBR":var i="transition"==Ea?{rotate:"0deg"}:{rotateZ:"0deg"};jQuery(e).find(".imgContainer")[Ea](i,Ia[j].durationBack,Ia[j].easingBack);break;case"slideUp":var t=a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:0},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({top:t},Ia[j].duration,Ia[j].easing);break;case"slideDown":var t="-"+a.thumbRealHeight+"px";jQuery(e).find(".imgContainer")[Ea]({top:0},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({top:t},Ia[j].duration,Ia[j].easing);break;case"slideRight":var t="-"+a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:0},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({left:t},Ia[j].duration,Ia[j].easing);break;case"slideLeft":var t=a.thumbRealWidth+"px";jQuery(e).find(".imgContainer")[Ea]({left:0},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({left:t},Ia[j].duration,Ia[j].easing);break;case"imageSlideUp":case"imageSlideDown":case"imageSlideLeft":case"imageSlideRight":jQuery(e).find(".imgContainer")[Ea]({top:"0"},Ia[j].durationBack,Ia[j].easingBack),jQuery(e).find(".imgContainer")[Ea]({left:"0"},Ia[j].durationBack,Ia[j].easingBack);break;case"labelAppear":case"labelAppear75":if("velocity"==Ea)jQuery(e).find(".labelImage")[Ea]({backgroundColorRed:Da.oldLabelRed,backgroundColorGreen:Da.oldLabelGreen,backgroundColorBlue:Da.oldLabelBlue,backgroundColorAlpha:0},Ia[j].durationBack,Ia[j].easingBack);else{var n="rgb("+Da.oldLabelRed+","+Da.oldLabelGreen+","+Da.oldLabelBlue+",0)";jQuery(e).find(".labelImage")[Ea]({backgroundColor:n},Ia[j].durationBack,Ia[j].easingBack)}jQuery(e).find(".labelImageTitle")[Ea]({opacity:"0"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelFolderTitle")[Ea]({opacity:"0"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelDescription")[Ea]({opacity:"0"},Ia[j].duration,Ia[j].easing);break;case"labelSlideDown":jQuery(e).find(".labelImage")[Ea]({top:"-99%"},Ia[j].durationBack,Ia[j].easingBack);break;case"labelSlideUpTop":var r=a.thumbRealHeight+"px";jQuery(e).find(".labelImage")[Ea]({top:r},Ia[j].duration,Ia[j].easing);break;case"labelSlideUp":jQuery(e).find(".labelImage")[Ea]({bottom:"-99%"},Ia[j].durationBack,Ia[j].easingBack);break;case"descriptionSlideUp":var r=a.thumbRealHeight-(jQuery(e).find(".labelImage").outerHeight(!0)-jQuery(e).find(".labelImage").height())/2-la+"px";jQuery(e).find(".labelImage")[Ea]({top:r},Ia[j].duration,Ia[j].easing);break;case"labelOpacity50":jQuery(e).find(".labelImage")[Ea]({opacity:Da.oldLabelOpacity},Ia[j].durationBack,Ia[j].easingBack);break;case"imageOpacity50":jQuery(e).find(".imgContainer")[Ea]({opacity:1},Ia[j].duration,Ia[j].easing);break;case"borderLighter":case"borderDarker":if("velocity"==Ea){var o=Da.oldBorderColor,l=o.substring(o.indexOf("(")+1,o.lastIndexOf(")")).split(/,\s*/);jQuery(e)[Ea]({borderColorRed:l[0],borderColorGreen:l[1],borderColorBlue:l[2],colorAlpha:l[3]},Ia[j].durationBack,Ia[j].easingBack)}else jQuery(e)[Ea]({borderColor:Da.oldBorderColor},Ia[j].durationBack,Ia[j].easingBack);break;case"imageScale150":case"imageScale150Outside":jQuery(e).find("img")[Ea]({scale:1},Ia[j].durationBack,Ia[j].easingBack);break;case"scale120":jQuery(e)[Ea]({scale:1},Ia[j].durationBack,Ia[j].easingBack);break;case"imageFlipHorizontal":var t=Math.round(1.2*a.thumbRealHeight)+"px";jQuery(e).find(".imgContainer")[Ea]({perspective:t,rotateX:"0deg"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({perspective:t,rotateX:"180deg"},Ia[j].duration,Ia[j].easing);break;case"imageFlipVertical":var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e).find(".imgContainer")[Ea]({perspective:t,rotateY:"0deg"},Ia[j].duration,Ia[j].easing),jQuery(e).find(".labelImage")[Ea]({perspective:t,rotateY:"180deg"},Ia[j].duration,Ia[j].easing);break;case"flipHorizontal":var t=Math.round(1.2*ra)+"px";jQuery(e)[Ea]({perspective:t,rotateX:"0deg"},Ia[j].durationBack,Ia[j].easingBack);break;case"flipVertical":var t=Math.round(1.2*a.thumbRealWidth)+"px";jQuery(e)[Ea]({perspective:t,rotateY:"0deg"},Ia[j].durationBack,Ia[j].easingBack);break;case"TEST":jQuery(e).find(".subcontainer").transition({scale:.85},150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(s){yt("error on hoverOut "+s.message)}}}}function tt(e){"fancybox"==Ct.viewer?ft(e):qt?ut(e,""):at(e)}function at(e){Ct.viewerScrollBarHidden&&jQuery("body").css("overflow","hidden"),Wt=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),Wt.addClass("nanogallery_theme_"+Ct.theme),vt(Wt),Mt=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(Wt);{var t="";Xt.length}t+='<img class="image" src="'+Xt[e].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image" src="'+Xt[e].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image" src="'+Xt[e].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',Vt=jQuery('<div class="content">'+t+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(Mt),zt=Mt.find(".image").eq(0),Ut=Mt.find(".image").eq(1),Ot=Mt.find(".image").eq(2),Nt=jQuery('<div class="closeButtonFloating"></div>').appendTo(Mt);var a="";fa&&(a='<div class="ngbt setFullscreenButton fullscreenButton"></div>');var i="";if("function"==typeof Ct.fnViewerInfo&&(i='<div class="ngbt infoButton"></div>'),$t=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton ngbt"></div><div class="pageCounter"></div><div class="nextButton ngbt"></div><div class="playButton playPauseButton ngbt"></div>'+a+i+'<div class="closeButton ngbt"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(Mt),Ct.viewerDisplayLogo&&(Yt=jQuery('<div class="nanoLogo"></div>').appendTo(Mt)),wt("",Mt),bt(Ut),"undefined"!=typeof Hammer){var n=Hammer(document.getElementById("nanoGalleryViewer"),{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}),r=0,o=0;
    n.on("drag release",function(e){if(!Aa)switch(e.type){case"drag":e.stopPropagation(),r=e.gesture.deltaX,o=e.gesture.deltaY,Vt.find(".imgCurrent").css(Math.abs(r)<25?{left:0}:{left:r});break;case"release":e.gesture.stopPropagation(),e.stopPropagation(),(Math.abs(r)<25||(new Date).getTime()-ka<100)&&Vt.find(".imgCurrent").css({left:0}),Math.round(r)<-25&&ot(),Math.round(r)>25&&st(),r=0}})}ka=(new Date).getTime(),Nt.on("click",function(e){e.stopPropagation(),(new Date).getTime()-ka<400||gt(!0)}),$t.find(".closeButton").on("click",function(e){e.stopPropagation(),(new Date).getTime()-ka<400||gt(!0)}),Vt.find("img").on("click",function(e){}),$t.find(".playPauseButton").on("click",function(e){e.stopPropagation(),rt()}),$t.find(".fullscreenButton").on("click",function(e){e.stopPropagation(),nt()}),$t.find(".infoButton").on("click",function(e){e.stopPropagation(),"function"==typeof Ct.fnViewerInfo&&Ct.fnViewerInfo(Xt[Ba])}),$t.find(".nextButton").on("click",function(e){e.stopPropagation(),ot()}),$t.find(".previousButton").on("click",function(e){e.stopPropagation(),st()}),Vt.find(".contentAreaNext").on("click",function(e){e.stopPropagation(),ot()}),Vt.find(".contentAreaPrevious").on("click",function(e){e.stopPropagation(),st()}),Vt.on("click",function(e){(new Date).getTime()-ka<400||(e.stopPropagation(),gt(!0))}),ut(e,"")}function it(e){function t(e){if(null==u)return d=0,void(s=null);var t=s.x-u.x;d-=t,-50>t&&(r(e),st()),t>50&&(r(e),ot()),d=0,s=null,u=null,Math.abs(t)<50&&n(Vt.find(".imgCurrent")[0],d)}function a(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function i(){if(l){var e=s.x-u.x;n(Vt.find(".imgCurrent")[0],d-e),l=!1}}function r(e){window.navigator.msPointerEnabled?o.removeEventListener("MSPointerDown",e.handleGestureStart,!0):(o.removeEventListener("touchstart",e.handleGestureStart,!0),o.removeEventListener("mousedown",e.handleGestureStart,!0))}var o=e,l=!1,s=null,u=null,d=0;this.handleGestureStart=function(e){qt&&(e.preventDefault(),e.touches&&e.touches.length>1||(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),s=a(e)))}.bind(this),this.handleGestureMove=function(e){e.preventDefault(),u=a(e),l||(l=!0,window.requestAnimFrame(i))}.bind(this),this.handleGestureEnd=function(e){e.preventDefault(),e.touches&&e.touches.length>0||(l=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),t(this))}.bind(this),window.navigator.msPointerEnabled?o.addEventListener("MSPointerDown",this.handleGestureStart,!0):(o.addEventListener("touchstart",this.handleGestureStart,!0),o.addEventListener("mousedown",this.handleGestureStart,!0))}function nt(){pa?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),pa=!1,$t.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(Wt[0].requestFullscreen?Wt[0].requestFullscreen():Wt[0].webkitRequestFullscreen?Wt[0].webkitRequestFullscreen():Wt[0].msRequestFullscreen?Wt[0].msRequestFullscreen():Wt[0].mozRequestFullScreen&&Wt[0].mozRequestFullScreen(),pa=!0,$t.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}function rt(){ca?(window.clearInterval(ha),ca=!1,$t.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ca=!0,$t.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),lt(),ha=window.setInterval(function(){lt()},ma))}function ot(){ca&&(window.clearInterval(ha),ha=window.setInterval(function(){lt()},ma)),lt()}function lt(){if(!(Aa||(new Date).getTime()-ka<300)){var e=(Xt.length,ct(Ba));ut(e,"nextImage")}}function st(){if(!(Aa||(new Date).getTime()-ka<300)){ca&&rt();var e=ht(Ba);ut(e,"previousImage")}}function ut(e,t){ka=(new Date).getTime(),Aa=!0;if(Ct.locationHash){var a="nanogallery/"+At+"/"+Xt[e].albumID+"/"+Xt[e].GetID();"#"+a!=location.hash?(La="#"+a,top.location.hash=a):La=top.location.hash}mt(e),bt(Ut),Ba=e;var a="-"+1*jQuery(window).width()+"px",i=!0;"fade"==Ct.imageTransition&&(i=!1);var n="";switch(t){case"nextImage":if(i){var a="-"+1*jQuery(window).width()+"px";n={left:a,opacity:0}}else n={opacity:0};Vt.find("*").stop(!0,!0),Ot.css({opacity:0,left:"0",visibility:"visible"}),"velocity"==Ea?(Ut.velocity(n,500),Ot.velocity({opacity:1},300),setTimeout(function(){dt(e,t)},500)):jQuery.when(Ut.animate(n,500),Ot.animate({opacity:1},300)).done(function(){dt(e,t)});break;case"previousImage":if(i){var a=1*jQuery(window).width()+"px";n={left:a,opacity:0}}else n={opacity:0};Vt.find("*").stop(!0,!0),zt.css({opacity:0,left:"0",visibility:"visible"}),"velocity"==Ea?(Ut.velocity(n,500),zt.velocity({opacity:1},300),setTimeout(function(){dt(e,t)},500)):jQuery.when(Ut.animate(n,500),zt.animate({opacity:1},300)).done(function(){dt(e,t)});break;default:Vt.find("*").stop(!0,!0),Ut.css({opacity:0,left:"0",visibility:"visible"}).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=").attr("src",Xt[e].responsiveURL()),jQuery.when(Ut.animate({opacity:1},300)).done(function(){dt(e,t)})}qt=!0}function dt(e,t){Ut.off("click"),Ut.removeClass("imgCurrent");var a=Ut;switch(t){case"nextImage":Ut=Ot,Ot=a;break;case"previousImage":Ut=zt,zt=a}Ut.addClass("imgCurrent"),"undefined"==typeof Hammer&&(Ra=null,Ra=new it(Ut[0])),Ot.css({opacity:0,left:"0",visibility:"hidden"}).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=").attr("src",Xt[ct(e)].responsiveURL()),zt.css({opacity:0,left:"0",visibility:"hidden"}).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=").attr("src",Xt[ht(e)].responsiveURL()),Ut.on("click",function(e){e.stopPropagation(),e.pageX<jQuery(window).width()/2?st():ot()}),bt(Ut),Aa=!1}function ct(e){for(var t=Xt.length,a=-1,i=e+1;t>i;i++)if(Xt[i].albumID==Xt[e].albumID&&"image"==Xt[i].kind){a=i;break}if(-1==a)for(var i=0;e>=i;i++)if(Xt[i].albumID==Xt[e].albumID&&"image"==Xt[i].kind){a=i;break}return a}function ht(e){for(var t=-1,a=e-1;a>=0;a--)if(Xt[a].albumID==Xt[e].albumID&&"image"==Xt[a].kind){t=a;break}if(-1==t)for(var a=Xt.length-1;a>=e;a--)if(Xt[a].albumID==Xt[e].albumID&&"image"==Xt[a].kind){t=a;break}return t}function mt(e){$t.find(".title").html(void 0!==Xt[e].title?Xt[e].title:""),$t.find(".description").html(void 0!==Xt[e].description?Xt[e].description:"");for(var t=0,a=Xt.length,i=0;a>i;i++)Xt[i].albumID==Xt[e].albumID&&"image"==Xt[i].kind&&t++;t>0&&$t.find(".pageCounter").html(Xt[e].imageNumber+1+"/"+t)}function gt(e){if(Aa&&Vt.find("*").stop(!0,!0),qt)if(Ra=null,window.clearInterval(Sa),ca&&(window.clearInterval(ha),ca=!1),pa&&nt(),qt=!1,Wt.off().remove(),Ct.viewerScrollBarHidden&&jQuery("body").css("overflow","inherit"),-1!=Ta)I(Ta,!0);else{if(Ct.locationHash&&e){var t=Xt[Ba].albumID,a="nanogallery/"+At+"/"+t;La="#"+a,top.location.hash=a}Z()}}function bt(e){window.clearInterval(Sa),Sa=window.setInterval(function(){bt(Ut)},200);var t=Mt.width(),a=Mt.height();Mt.css({visibility:"visible",position:"fixed"});var i=e;$t.css(Ut.height()<=40?{visibility:"hidden"}:{visibility:"visible"});var n=Math.abs(Vt.outerHeight(!0)-Vt.height()),r=Math.abs(Vt.outerWidth(!0)-Vt.width()),o=i.outerHeight(!1)-i.innerHeight(),l=Math.abs(i.outerWidth(!1)-i.innerWidth()),s=Math.abs(i.innerHeight()-i.height()),u=Math.abs(i.innerWidth()-i.width()),d=o+s,c=l+u,h=0;"innerImage"!=Ct.viewerToolbar.style&&(h=$t.find(".toolbar").outerHeight(!0));var m=a-h-n,g=t-r;switch(Ct.viewerToolbar.position){case"top":Vt.css({height:m,width:g,top:h});var b=0;"innerImage"==Ct.viewerToolbar.style&&(b=Math.abs(Ut.outerHeight(!0)-Ut.height())/2+5),"stuckImage"==Ct.viewerToolbar.style&&(b=Math.abs(Ut.outerHeight(!0)-Ut.height())/2-d),$t.css({top:b});break;case"bottom":default:Vt.css({height:m,width:g});var b=0;"innerImage"==Ct.viewerToolbar.style&&(b=Math.abs(Ut.outerHeight(!0)-Ut.height())/2+5),"stuckImage"==Ct.viewerToolbar.style&&(b=Math.abs(Ut.outerHeight(!0)-Ut.height())/2-d),$t.css({bottom:b})}"innerImage"==Ct.viewerToolbar.style&&$t.find(".toolbar").css({"max-width":Ut.width()}),"fullWidth"==Ct.viewerToolbar.style&&$t.find(".toolbar").css({width:g}),$t.css({height:$t.find(".toolbar").outerHeight(!0)}),Vt.children("img").css({"max-width":g-c,"max-height":m-d})}function ft(e){var t=e,a=[],i=0;a[i]=new Object,a[i].href=Xt[t].responsiveURL(),a[i].title=Xt[t].title;for(var n=Xt.length,r=t+1;n>r;r++)"image"==Xt[r].kind&&Xt[r].albumID==Xt[e].albumID&&""==Xt[r].destinationURL&&(i++,a[i]=new Object,a[i].href=Xt[r].responsiveURL(),a[i].title=Xt[r].title);for(var r=0;t>r;r++)"image"==Xt[r].kind&&Xt[r].albumID==Xt[e].albumID&&""==Xt[r].destinationURL&&(i++,a[i]=new Object,a[i].href=Xt[r].responsiveURL(),a[i].title=Xt[r].title);jQuery.fancybox(a,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}function pt(e){var t=null;switch(ai(Ct.colorScheme)){case"object":t=Oa,jQuery.extend(!0,t,Ct.colorScheme),g_colorSchemeLabel="nanogallery_colorscheme_custom_"+At;break;case"string":switch(Ct.colorScheme){case"none":return;case"light":t=Va,g_colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":t=$a,g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":t=Ua,g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":t=qa,g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":t=Fa,g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":t=Na,g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:t=Oa,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void yt("Error in colorScheme parameter.")}var a="."+g_colorSchemeLabel+" ",i=a+".nanoGalleryNavigationbar { background:"+t.navigationbar.background+"; }\n";void 0!==t.navigationbar.border&&(i+=a+".nanoGalleryNavigationbar { border:"+t.navigationbar.border+" !important; }\n"),void 0!==t.navigationbar.borderTop&&(i+=a+".nanoGalleryNavigationbar { border-top:"+t.navigationbar.borderTop+" !important; }\n"),void 0!==t.navigationbar.borderBottom&&(i+=a+".nanoGalleryNavigationbar { border-bottom:"+t.navigationbar.borderBottom+" !important; }\n"),void 0!==t.navigationbar.borderRight&&(i+=a+".nanoGalleryNavigationbar { border-right:"+t.navigationbar.borderRight+" !important; }\n"),void 0!==t.navigationbar.borderLeft&&(i+=a+".nanoGalleryNavigationbar { border-left:"+t.navigationbar.borderLeft+" !important; }\n"),i+=a+".nanoGalleryNavigationbar .oneFolder  { color:"+t.navigationbar.color+" !important; }\n",i+=a+".nanoGalleryNavigationbar .separator  { color:"+t.navigationbar.color+" !important; }\n",i+=a+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+t.navigationbar.color+" !important; }\n",i+=a+".nanoGalleryNavigationbar .oneFolder:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=a+".nanoGalleryNavigationbar .separator:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=a+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+t.thumbnail.background+" !important; border:"+t.thumbnail.border+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+t.thumbnail.background+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+t.thumbnail.labelBackground+"; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+t.thumbnail.descriptionColor+" !important; Text-Shadow:"+t.thumbnail.descriptionShadow+" !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass(g_colorSchemeLabel)}function vt(e){var t=null;switch(ai(Ct.colorSchemeViewer)){case"object":t=Ya,jQuery.extend(!0,t,Ct.colorSchemeViewer),g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(Ct.colorSchemeViewer){case"none":return;case"light":t=ei,g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":t=Xa,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":t=Za,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":t=Ka,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":t=Ja,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"default":case"dark":default:t=Ya,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void yt("Error in colorSchemeViewer parameter.")}var a="."+g_colorSchemeLabel+" ",i=a+".nanoGalleryViewer { background:"+t.background+" !important; }\n";i+=a+".nanoGalleryViewer .content img { border:"+t.imageBorder+" !important; box-shadow:"+t.imageBoxShadow+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar { background:"+t.barBackground+" !important; border:"+t.barBorder+" !important; color:"+t.barColor+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar .previousButton:after { color:"+t.barColor+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar .nextButton:after { color:"+t.barColor+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar .closeButton:after { color:"+t.barColor+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar .label .title { color:"+t.barColor+" !important; }\n",i+=a+".nanoGalleryViewer .toolbar .label .description { color:"+t.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass(g_colorSchemeLabel)}function yt(e){Bt.css({visibility:"visible",height:"60px"}),Bt.append("<p>nanoGALLERY: "+e+" ["+At+"]</p>"),jt(e)}function jt(e){window.console&&console.log("nanoGALLERY: "+e+" ["+At+"]")}function kt(){var e=jQuery(window);return{l:e.scrollLeft(),t:e.scrollTop(),w:e.width(),h:e.height()}}function Qt(e,t){var a=kt(),i=jQuery(e).offset(),n=jQuery(e).outerHeight(!0),r=jQuery(e).outerWidth(!0);return i.top>=a.t-t&&i.top+n<=a.t+a.h+t&&i.left>=a.l-t&&i.left+r<=a.l+a.w+t?!0:!1}function xt(e,t){{var a=kt(),i=jQuery(e).offset(),n=jQuery(e).outerHeight(!0);jQuery(e).outerWidth(!0)}return 0==a.t&&i.top<=a.t+a.h?!0:i.top>=a.t&&i.top+n<=a.t+a.h-t?!0:!1}function wt(e,t){var a=0;""==e&&(e="*"),jQuery(e).each(function(){var e=parseInt(jQuery(this).css("z-albums"));a=e>a?e:a}),a++,jQuery(t).css("z-albums",a)}function It(e){for(var t,a,i=e.length;i;t=Math.floor(Math.random()*i),a=e[--i],e[i]=e[t],e[t]=a);return e}var Ct=null,Lt=null,At=null,St=null,Bt=null,Tt=null,Dt=null,_t=null,Ht=null,Gt=null,Rt=null,Et=null,Pt=!1,Wt=null,Mt=null,zt=null,Ot=null,Ut=null,qt=!1,Ft=!1,Nt=null,Vt=null,$t=null,Yt=null,Xt=[],Zt=0,Kt=0,Jt=0,ea=0,ta=0,aa=0,ia=0,na=0,ra=0,oa=0,la=0,sa=null,ua=null,da=null,ca=!1,ha=0,ma=3e3,ga=30,ba=100,fa=!1,pa=!1,va=!1,ya="",ja={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},ka=0,Qa=1,xa=0,wa=0,Ia=[],Ca=-1,La="",Aa=!1,Sa=-1,Ba=-1,Ta=-1,Da={},_a=1,Ha=-1,Ga=!1,Ra=null,Ea="animate",Pa=null;Pa=e();var Wa={url:function(){return"https:"==location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 ",thumbSizeHack:!0},Ma={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},za={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:new Array(100,150,400,600,800,1024,1280,1600),photoAvailableSizesStr:new Array("TinyURL","ThumbURL","SmallURL","MediumURL","LargeURL","XLargeURL","X2LargeURL","X3LargeURL"),thumbSize:0,photoSize:0},Oa={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Ua={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},qa={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Fa={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Na={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Va={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},$a={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Ya={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Xa={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Za={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Ka={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Ja={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ei={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ti=function(){function e(e,a){var i=0;i=void 0===a||null===a?t++:a,this.GetID=function(){return i},this.title=e,this.thumbsrc="",this.thumbWidth=0,this.thumbHeight=0,this.thumbRealWidth=0,this.thumbRealHeight=0,this.src="",this.width=0,this.height=0,this.description="",this.destinationURL="",this.kind="",this.author="",this.hovered=!1,this.$elt=null,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customVars={}}var t=1;return e.get_nextId=function(){return t},e.prototype={responsiveURL:function(){var e="";switch(Ct.kind){case"":e=this.src;break;case"flickr":e=this.src;break;case"smugmug":e=this.src;break;case"picasa":default:e=this.src}return e}},e}();this.Initiate=function(e,i){"use strict";if(Ct=i,Lt=e,At=jQuery(e).attr("id"),"object"==ai(jQuery.velocity)?(Ea="velocity",va=!0):jQuery.support.transition&&(Ea="transition"),jQuery(e).addClass("nanogallery_theme_"+Ct.theme),pt(e),Ct.thumbnailLabel.hideIcons){var n=".nanogallery_thumbnails_icons_off ",r=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";r+=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+r+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_icons_off")}if(Ct.galleryToolbarHideIcons){var n=".nanogallery_breadcrumb_icons_off ",r=n+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";r+=n+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+r+"</style>"),jQuery(e).addClass("nanogallery_breadcrumb_icons_off")}if("right"==Ct.thumbnailLabel.align){var n=".nanogallery_thumbnails_label_align_right ",r=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+r+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_right")}if("center"==Ct.thumbnailLabel.align){var n=".nanogallery_thumbnails_label_align_center ",r=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+r+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_center")}if("left"==Ct.thumbnailLabel.align){var n=".nanogallery_thumbnails_label_align_left ",r=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+r+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_left")}Et=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(e),Et.hide(),Rt=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(Et),Ht=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(Rt),St=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(e),Tt=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(St),Bt=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(e),o(),jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var l=jQuery('<div class="nanogalleryHideElement '+jQuery(e).attr("class")+'"></div>').appendTo("body"),s=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(l);Dt=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(s),(xa>0||wa>0)&&(_t=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(St),a()),u(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?fa=!0:jt("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),c(),"loadData"!=Ct.lazyBuild&&t();var d=0;jQuery(window).resize(function(){d&&clearTimeout(d),qt?bt(Ut):d=setTimeout(function(){_(),E()},50)});var h=0;jQuery(window).on("scroll",function(){h&&clearTimeout(h),h=setTimeout(function(){"loadData"==Ct.lazyBuild&&xt(St,Ct.lazyBuildTreshold)&&(Ct.lazyBuild="none",t()),-1!=Ha&&xt(St,Ct.lazyBuildTreshold)&&C(Ha,Ga),E()},200)})},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var ai=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},ii=function(e,t,a){e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var i=Math.round(256*t)*(a?-1:1),n=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),r=n&&null!=n[4]?n[4]:null,o=n?[n[1],n[2],n[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return n?"rgb"+(null!==r?"a":"")+"("+Math[a?"max":"min"](parseInt(o[0],10)+i,a?0:255)+", "+Math[a?"max":"min"](parseInt(o[1],10)+i,a?0:255)+", "+Math[a?"max":"min"](parseInt(o[2],10)+i,a?0:255)+(null!==r?", "+r:"")+")":["#",oi(Math[a?"max":"min"](parseInt(o[0],10)+i,a?0:255).toString(16),2),oi(Math[a?"max":"min"](parseInt(o[1],10)+i,a?0:255).toString(16),2),oi(Math[a?"max":"min"](parseInt(o[2],10)+i,a?0:255).toString(16),2)].join("")},ni=function(e,t){return ii(e,t,!1)},ri=function(e,t){return ii(e,t,!0)},oi=function(e,t){var a="0";for(e+="";e.length<t;)e=a+e;return e}}!function(e){jQuery.fn.nanoGallery=function(t){var a=e.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,viewerScrollBarHidden:!0,imageTransition:"default",viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnProcessData:null,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3e3,photoSorting:"",albumSorting:"",lazyBuild:"none",lazyBuildTreshold:150,flickrSkipOriginal:!0,i18n:{breadcrumbHome:"List of Albums",breadcrumbHome_FR:"Liste des Albums",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"| ",thumbnailLabelItemsCountPart2:" photos",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},t);return this.each(function(){var e=new nanoGALLERY;e.Initiate(this,a)})}}(jQuery),function(e,t){function a(e,t,a){var i=c[t.type]||{};return null==e?a||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var a=u(),i=a._rgba=[];return t=t.toLowerCase(),g(s,function(e,n){var r,o=n.re.exec(t),l=o&&n.parse(o),s=n.space||"rgba";return l?(r=a[s](l),a[d[s].cache]=r[d[s].cache],i=a._rgba=r._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,r.transparent),a):r[t]}function n(e,t,a){return a=(a+1)%1,1>6*a?e+(t-e)*a*6:1>2*a?t:2>3*a?e+(t-e)*(2/3-a)*6:e}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",l=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,a,i,n){return new e.Color.fn.parse(t,a,i,n)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},m=e("<p>")[0],g=e.each;m.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=m.style.backgroundColor.indexOf("rgba")>-1,g(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(n,o,l,s){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var c=this,h=e.type(n),m=this._rgba=[];return o!==t&&(n=[n,o,l,s],h="array"),"string"===h?this.parse(i(n)||r._default):"array"===h?(g(d.rgba.props,function(e,t){m[t.idx]=a(n[t.idx],t)}),this):"object"===h?(n instanceof u?g(d,function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}):g(d,function(t,i){var r=i.cache;g(i.props,function(e,t){if(!c[r]&&i.to){if("alpha"===e||null==n[e])return;c[r]=i.to(c._rgba)}c[r][t.idx]=a(n[e],t,!0)}),c[r]&&e.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,i.from&&(c._rgba=i.from(c[r])))}),this):void 0},is:function(e){var t=u(e),a=!0,i=this;return g(d,function(e,n){var r,o=t[n.cache];
    return o&&(r=i[n.cache]||n.to&&n.to(i._rgba)||[],g(n.props,function(e,t){return null!=o[t.idx]?a=o[t.idx]===r[t.idx]:void 0})),a}),a},_space:function(){var e=[],t=this;return g(d,function(a,i){t[i.cache]&&e.push(a)}),e.pop()},transition:function(e,t){var i=u(e),n=i._space(),r=d[n],o=0===this.alpha()?u("transparent"):this,l=o[r.cache]||r.to(o._rgba),s=l.slice();return i=i[r.cache],g(r.props,function(e,n){var r=n.idx,o=l[r],u=i[r],d=c[n.type]||{};null!==u&&(null===o?s[r]=u:(d.mod&&(u-o>d.mod/2?o+=d.mod:o-u>d.mod/2&&(o-=d.mod)),s[r]=a((u-o)*t+o,n)))}),this[n](s)},blend:function(t){if(1===this._rgba[3])return this;var a=this._rgba.slice(),i=a.pop(),n=u(t)._rgba;return u(e.map(a,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var t="rgba(",a=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===a[3]&&(a.pop(),t="rgb("),t+a.join()+")"},toHslaString:function(){var t="hsla(",a=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===a[3]&&(a.pop(),t="hsl("),t+a.join()+")"},toHexString:function(t){var a=this._rgba.slice(),i=a.pop();return t&&a.push(~~(255*i)),"#"+e.map(a,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,a,i=e[0]/255,n=e[1]/255,r=e[2]/255,o=e[3],l=Math.max(i,n,r),s=Math.min(i,n,r),u=l-s,d=l+s,c=.5*d;return t=s===l?0:i===l?60*(n-r)/u+360:n===l?60*(r-i)/u+120:60*(i-n)/u+240,a=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,a,c,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,a=e[1],i=e[2],r=e[3],o=.5>=i?i*(1+a):i+a-i*a,l=2*i-o;return[Math.round(255*n(l,o,t+1/3)),Math.round(255*n(l,o,t)),Math.round(255*n(l,o,t-1/3)),r]},g(d,function(i,n){var r=n.props,o=n.cache,s=n.to,d=n.from;u.fn[i]=function(i){if(s&&!this[o]&&(this[o]=s(this._rgba)),i===t)return this[o].slice();var n,l=e.type(i),c="array"===l||"object"===l?i:arguments,h=this[o].slice();return g(r,function(e,t){var i=c["object"===l?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=a(i,t)}),d?(n=u(d(h)),n[o]=h,n):u(h)},g(r,function(t,a){u.fn[t]||(u.fn[t]=function(n){var r,o=e.type(n),s="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[s](),d=u[a.idx];return"undefined"===o?d:("function"===o&&(n=n.call(this,d),o=e.type(n)),null==n&&a.empty?this:("string"===o&&(r=l.exec(n),r&&(n=d+parseFloat(r[2])*("+"===r[1]?1:-1))),u[a.idx]=n,this[s](u)))})})}),u.hook=function(t){var a=t.split(" ");g(a,function(t,a){e.cssHooks[a]={set:function(t,n){var r,o,l="";if("transparent"!==n&&("string"!==e.type(n)||(r=i(n)))){if(n=u(r||n),!h.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===a?t.parentNode:t;(""===l||"transparent"===l)&&o&&o.style;)try{l=e.css(o,"backgroundColor"),o=o.parentNode}catch(s){}n=n.blend(l&&"transparent"!==l?l:"_default")}n=n.toRgbaString()}try{t.style[a]=n}catch(s){}}},e.fx.step[a]=function(t){t.colorInit||(t.start=u(t.elem,a),t.end=u(t.end),t.colorInit=!0),e.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(a,i){t["border"+i+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){}function t(e,t){for(var a=e.length;a--;)if(e[a].listener===t)return a;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,n=this,r=n.ngEventEmitter;i.getListeners=function(e){var t,a,i=this._getEvents();if("object"==typeof e){t={};for(a in i)i.hasOwnProperty(a)&&e.test(a)&&(t[a]=i[a])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,a=[];for(t=0;t<e.length;t+=1)a.push(e[t].listener);return a},i.getListenersAsObject=function(e){var t,a=this.getListeners(e);return a instanceof Array&&(t={},t[e]=a),t||a},i.addListener=function(e,a){var i,n=this.getListenersAsObject(e),r="object"==typeof a;for(i in n)n.hasOwnProperty(i)&&-1===t(n[i],a)&&n[i].push(r?a:{listener:a,once:!1});return this},i.on=a("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=a("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,a){var i,n,r=this.getListenersAsObject(e);for(n in r)r.hasOwnProperty(n)&&(i=t(r[n],a),-1!==i&&r[n].splice(i,1));return this},i.off=a("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,a){var i,n,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=a.length;i--;)r.call(this,t,a[i]);else for(i in t)t.hasOwnProperty(i)&&(n=t[i])&&("function"==typeof n?r.call(this,i,n):o.call(this,i,n));return this},i.removeEvent=function(e){var t,a=typeof e,i=this._getEvents();if("string"===a)delete i[e];else if("object"===a)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=a("removeEvent"),i.emitEvent=function(e,t){var a,i,n,r,o=this.getListenersAsObject(e);for(n in o)if(o.hasOwnProperty(n))for(i=o[n].length;i--;)a=o[n][i],a.once===!0&&this.removeListener(e,a.listener),r=a.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},i.trigger=a("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.ngEventEmitter=r,e},"function"==typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.ngEventEmitter=e}.call(this),function(e){function t(t){var a=e.event;return a.target=a.target||a.srcElement||t,a}var a=document.documentElement,i=function(){};a.addEventListener?i=function(e,t,a){e.addEventListener(t,a,!1)}:a.attachEvent&&(i=function(e,a,i){e[a+i]=i.handleEvent?function(){var a=t(e);i.handleEvent.call(i,a)}:function(){var a=t(e);i.call(e,a)},e.attachEvent("on"+a,e[a+i])});var n=function(){};a.removeEventListener?n=function(e,t,a){e.removeEventListener(t,a,!1)}:a.detachEvent&&(n=function(e,t,a){e.detachEvent("on"+t,e[t+a]);try{delete e[t+a]}catch(i){e[t+a]=void 0}});var r={bind:i,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["ngeventEmitter/ngEventEmitter","eventie/eventie"],function(a,i){return t(e,a,i)}):"object"==typeof exports?module.exports=t(e,require("ngeventEmitter"),require("eventie")):e.ngimagesLoaded=t(e,e.ngEventEmitter,e.eventie)}(this,function(e,t,a){function i(e,t){for(var a in t)e[a]=t[a];return e}function n(e){return"[object Array]"===h.call(e)}function r(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var a=0,i=e.length;i>a;a++)t.push(e[a]);else t.push(e);return t}function o(e,t,a){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=i({},this.options),"function"==typeof t?a=t:i(this.options,t),a&&this.on("always",a),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var n=this;setTimeout(function(){n.check()})}function l(e){this.img=e}function s(e){this.src=e,m[e]=this}var u=e.jQuery,d=e.console,c="undefined"!=typeof d,h=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var a=this.elements[e];if("IMG"===a.nodeName&&this.addImage(a),a.nodeType&&(1===a.nodeType||9===a.nodeType))for(var i=a.querySelectorAll("img"),n=0,r=i.length;r>n;n++){var o=i[n];this.addImage(o)}}},o.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},o.prototype.check=function(){function e(e,n){return t.options.debug&&c&&d.log("confirm",e,n),t.progress(e),a++,a===i&&t.complete(),!0}var t=this,a=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var n=0;i>n;n++){var r=this.images[n];r.on("confirm",e),r.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var a=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[a](t)}})},u&&(u.fn.ngimagesLoaded=function(e,t){var a=new o(this,e,t);return a.jqDeferred.promise(u(this))}),l.prototype=new t,l.prototype.check=function(){var e=m[this.img.src]||new s(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,a){return t.confirm(e.isLoaded,a),!0}),e.check()},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var m={};return s.prototype=new t,s.prototype.check=function(){if(!this.isChecked){var e=new Image;a.bind(e,"load",this),a.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){a.unbind(e.target,"load",this),a.unbind(e.target,"error",this)},o});